function _defineProperty(n,t,l){return t in n?Object.defineProperty(n,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[t]=l,n}function _defineProperties(n,t){for(var l=0;l<t.length;l++){var e=t[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,l){return t&&_defineProperties(n.prototype,t),l&&_defineProperties(n,l),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{ICdQ:function(n,t,l){"use strict";l.r(t);var e=l("8Y7J"),a=function n(){_classCallCheck(this,n)},o=l("pMnS"),c=l("9Rn4"),i=l("YzQ4"),u=l("VYsW"),s=l("FbN9"),b=l("BzsH"),r=l("/HVE"),p=l("SVse"),d=l("bujt"),h=l("Mz6y"),f=l("QQfA"),m=l("hOhj"),C=l("5GAg"),g=l("IP0z"),v=l("cUpR"),A=l("Fwaw"),k=l("omvX"),y=l("Mr+X"),x=l("Gi4r"),_=l("lzlj"),w=l("igqZ"),O=l("cu63"),P=l("Rf8I"),q=l("V+Fh"),j=l("mrSG"),M=function(){function n(t,l,e,a,o){_classCallCheck(this,n),this.appContext=t,this.database=l,this.colorThemeService=e,this.router=a,this.platformId=o,this.subscribers=[],this.search=!1,this.contactsHeader="\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",this.activateEdit=!0,this.buttons=[]}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;Object(p.v)(this.platformId)&&(this.buttons=["search_contact","remove_contact"],this.contactRestriction=window.localStorage.getItem("contactRestriction"),this.subscribers.push(this.appContext.contacts.subscribe((function(t){n.contactsLength=t.length}))),this.subscribers.push(this.appContext.appUsers.subscribe((function(t){n.appUsers=t}))))}},{key:"onActivatedContact",value:function(n){n.add?this.appContext.activeContacts[n.contact.uid]=n.contact:delete this.appContext.activeContacts[n.contact.uid],this.activateEdit=!Object.keys(this.appContext.activeContacts).length}},{key:"onOptionSelected",value:function(n){this.database.setContacts({contactURL:"/contacts/"+this.appContext.user.value.uid,value:_defineProperty({},n.uid,n)}).then((function(n){})).catch((function(n){}))}},{key:"onDeleteContacts",value:function(){return j.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=regeneratorRuntime.keys(this.appContext.activeContacts);case 1:if((n.t1=n.t0()).done){n.next=7;break}return t=n.t1.value,n.next=5,this.database.setContacts({contactURL:"/contacts/"+this.appContext.user.value.uid,value:_defineProperty({},t,null)}).then((function(){return console.log("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0443\u0434\u0430\u043b\u0435\u043d\u044b.")}));case 5:n.next=1;break;case 7:this.appContext.activeContacts={},this.activateEdit=!0;case 8:case"end":return n.stop()}}),n,this)})))}},{key:"triggerSearch",value:function(){this.search=!this.search}},{key:"ngOnDestroy",value:function(){this.subscribers.forEach((function(n){return n.unsubscribe()}))}}]),n}(),I=l("ZJFI"),R=l("iInd"),z=e.ob({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;height:100%}.contacts-not[_ngcontent-%COMP%]{color:#bebebe}.contacts-header[_ngcontent-%COMP%]{font-size:18px!important}.added-contacts-container[_ngcontent-%COMP%]{margin-top:16px}mat-card.contacts-container[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;overflow-y:auto!important;flex:1 1 0!important}button.toolbar-button.active[_ngcontent-%COMP%]{background:rgba(255,255,255,.15)}mat-icon[_ngcontent-%COMP%]{position:relative;top:-2px}.element-control-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}div.contacts-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;height:100%}.contact-table-container[_ngcontent-%COMP%]{flex:1 1 0}@media (max-width:400px){.contacts-search-header[_ngcontent-%COMP%]{display:none}}"]],data:{}});function N(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,1,"span",[["class","contacts-header contacts-search-header"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" : \u043f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"]))],null,null)}function L(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,1,"app-contact-search",[],null,[[null,"selectedOption"]],(function(n,t,l){var e=!0;return"selectedOption"===t&&(e=!1!==n.component.onOptionSelected(l)&&e),e}),c.b,c.a)),e.pb(1,114688,null,0,i.a,[u.a,e.h],{collection:[0,"collection"],baseCollection:[1,"baseCollection"]},{selectedOption:"selectedOption"})],(function(n,t){var l=t.component;n(t,1,0,l.appContext.contacts,l.appContext.appUsers)}),null)}function J(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,20,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,s.b,s.a)),e.pb(1,4243456,null,1,b.a,[e.k,r.a,p.d],{color:[0,"color"]},null),e.Hb(603979776,1,{_toolbarRows:1}),(n()(),e.qb(3,0,null,0,1,"span",[["class","contacts-header"]],null,null,null,null,null)),(n()(),e.Jb(4,null,["",""])),(n()(),e.gb(16777216,null,0,1,null,N)),e.pb(6,16384,null,0,p.l,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(7,0,null,0,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),e.qb(8,16777216,null,0,7,"button",[["class","toolbar-button search-trigger"],["mat-icon-button",""],["matTooltip","\u041f\u043e\u0438\u0441\u043a"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,t,l){var a=!0,o=n.component;return"longpress"===t&&(a=!1!==e.Cb(n,12).show()&&a),"keydown"===t&&(a=!1!==e.Cb(n,12)._handleKeydown(l)&&a),"touchend"===t&&(a=!1!==e.Cb(n,12)._handleTouchend()&&a),"click"===t&&(a=!1!==o.triggerSearch()&&a),a}),d.b,d.a)),e.Gb(512,null,p.y,p.z,[e.q,e.r,e.k,e.C]),e.pb(10,278528,null,0,p.j,[p.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(11,{active:0}),e.pb(12,212992,null,0,h.d,[f.c,e.k,m.a,e.N,e.x,r.a,C.c,C.f,h.b,[2,g.b],[2,h.a],[2,v.f]],{message:[0,"message"]},null),e.pb(13,180224,null,0,A.b,[e.k,C.f,[2,k.a]],null,null),(n()(),e.qb(14,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,y.b,y.a)),e.pb(15,9158656,null,0,x.b,[e.k,x.d,[8,null],[2,x.a],[2,e.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),e.qb(16,16777216,null,0,4,"button",[["class","toolbar-button delete-contact"],["mat-icon-button",""],["matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,t,l){var a=!0,o=n.component;return"longpress"===t&&(a=!1!==e.Cb(n,17).show()&&a),"keydown"===t&&(a=!1!==e.Cb(n,17)._handleKeydown(l)&&a),"touchend"===t&&(a=!1!==e.Cb(n,17)._handleTouchend()&&a),"click"===t&&(a=!1!==o.onDeleteContacts()&&a),a}),d.b,d.a)),e.pb(17,212992,null,0,h.d,[f.c,e.k,m.a,e.N,e.x,r.a,C.c,C.f,h.b,[2,g.b],[2,h.a],[2,v.f]],{message:[0,"message"]},null),e.pb(18,180224,null,0,A.b,[e.k,C.f,[2,k.a]],{disabled:[0,"disabled"]},null),(n()(),e.qb(19,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,y.b,y.a)),e.pb(20,9158656,null,0,x.b,[e.k,x.d,[8,null],[2,x.a],[2,e.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),e.qb(21,0,null,null,8,"mat-card",[["class","contacts-container mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,_.b,_.a)),e.pb(22,49152,null,0,w.a,[[2,k.a]],null,null),(n()(),e.qb(23,0,null,0,6,"div",[["class","contacts-block"]],null,null,null,null,null)),(n()(),e.qb(24,0,null,null,2,"div",[["class","element-control-container"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,L)),e.pb(26,16384,null,0,p.l,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(27,0,null,null,2,"div",[["class","contact-table-container"]],null,null,null,null,null)),(n()(),e.qb(28,0,null,null,1,"app-contact-table",[["class","inner-contact-table"]],null,[[null,"activatedContact"]],(function(n,t,l){var e=!0;return"activatedContact"===t&&(e=!1!==n.component.onActivatedContact(l)&&e),e}),O.b,O.a)),e.pb(29,49152,null,0,P.a,[u.a,q.a],{context:[0,"context"]},{activatedContact:"activatedContact"})],(function(n,t){var l=t.component;n(t,1,0,"primary"),n(t,6,0,l.search);var e=n(t,11,0,l.search);n(t,10,0,"toolbar-button search-trigger",e),n(t,12,0,"\u041f\u043e\u0438\u0441\u043a"),n(t,15,0,l.buttons[0]),n(t,17,0,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),n(t,18,0,l.activateEdit),n(t,20,0,l.buttons[1]),n(t,26,0,l.search),n(t,29,0,l.appContext.contacts)}),(function(n,t){var l=t.component;n(t,0,0,e.Cb(t,1)._toolbarRows.length>0,0===e.Cb(t,1)._toolbarRows.length),n(t,4,0,l.contactsHeader),n(t,8,0,e.Cb(t,13).disabled||null,"NoopAnimations"===e.Cb(t,13)._animationMode),n(t,14,0,e.Cb(t,15).inline,"primary"!==e.Cb(t,15).color&&"accent"!==e.Cb(t,15).color&&"warn"!==e.Cb(t,15).color),n(t,16,0,e.Cb(t,18).disabled||null,"NoopAnimations"===e.Cb(t,18)._animationMode),n(t,19,0,e.Cb(t,20).inline,"primary"!==e.Cb(t,20).color&&"accent"!==e.Cb(t,20).color&&"warn"!==e.Cb(t,20).color),n(t,21,0,"NoopAnimations"===e.Cb(t,22)._animationMode)}))}var S=e.mb("app-contacts",M,(function(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,1,"app-contacts",[],null,null,null,J,z)),e.pb(1,245760,null,0,M,[u.a,I.a,q.a,R.o,e.z],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),E=l("NcP4"),T=l("POq0"),F=l("JjoW"),U=l("Xd0L"),H=l("gavF"),K=l("/Co4"),V=l("s7LF"),D=l("/q54"),G=function n(){_classCallCheck(this,n)},Q=l("HsOI"),W=l("zMNK"),Z=l("oapL"),X=l("ZwOa"),Y=l("8P0U"),B=l("W5yJ"),$=l("elxJ"),nn=l("rWV4"),tn=l("KPQW"),ln=l("mkRZ"),en=l("pBi1"),an=l("lT8R"),on=l("7of8"),cn=l("VDRc"),un=l("ura0"),sn=l("Nhcz"),bn=l("u9T3"),rn=l("Gcy5");l.d(t,"ContactsModuleNgFactory",(function(){return pn}));var pn=e.nb(a,[],(function(n){return e.zb([e.Ab(512,e.j,e.Z,[[8,[o.a,S,E.a]],[3,e.j],e.v]),e.Ab(4608,p.n,p.m,[e.s,[2,p.D]]),e.Ab(4608,T.c,T.c,[]),e.Ab(4608,f.c,f.c,[f.i,f.e,e.j,f.h,f.f,e.p,e.x,p.d,g.b,[2,p.h]]),e.Ab(5120,f.j,f.k,[f.c]),e.Ab(5120,F.a,F.b,[f.c]),e.Ab(5120,h.b,h.c,[f.c]),e.Ab(4608,v.e,U.c,[[2,U.g],[2,U.l]]),e.Ab(4608,U.b,U.b,[]),e.Ab(5120,H.a,H.d,[f.c]),e.Ab(5120,K.b,K.c,[f.c]),e.Ab(4608,V.e,V.e,[]),e.Ab(4608,V.w,V.w,[]),e.Ab(5120,e.b,(function(n,t){return[D.j(n,t)]}),[p.d,e.z]),e.Ab(1073742336,p.c,p.c,[]),e.Ab(1073742336,R.s,R.s,[[2,R.x],[2,R.o]]),e.Ab(1073742336,G,G,[]),e.Ab(1073742336,g.a,g.a,[]),e.Ab(1073742336,U.l,U.l,[[2,U.d],[2,v.f]]),e.Ab(1073742336,b.b,b.b,[]),e.Ab(1073742336,x.c,x.c,[]),e.Ab(1073742336,w.c,w.c,[]),e.Ab(1073742336,T.d,T.d,[]),e.Ab(1073742336,Q.e,Q.e,[]),e.Ab(1073742336,W.e,W.e,[]),e.Ab(1073742336,r.b,r.b,[]),e.Ab(1073742336,m.b,m.b,[]),e.Ab(1073742336,f.g,f.g,[]),e.Ab(1073742336,U.v,U.v,[]),e.Ab(1073742336,U.t,U.t,[]),e.Ab(1073742336,U.q,U.q,[]),e.Ab(1073742336,F.d,F.d,[]),e.Ab(1073742336,C.a,C.a,[]),e.Ab(1073742336,h.e,h.e,[]),e.Ab(1073742336,A.c,A.c,[]),e.Ab(1073742336,Z.c,Z.c,[]),e.Ab(1073742336,X.b,X.b,[]),e.Ab(1073742336,Y.c,Y.c,[]),e.Ab(1073742336,B.c,B.c,[]),e.Ab(1073742336,$.d,$.d,[]),e.Ab(1073742336,nn.j,nn.j,[]),e.Ab(1073742336,tn.b,tn.b,[]),e.Ab(1073742336,H.c,H.c,[]),e.Ab(1073742336,H.b,H.b,[]),e.Ab(1073742336,K.e,K.e,[]),e.Ab(1073742336,ln.a,ln.a,[]),e.Ab(1073742336,en.d,en.d,[]),e.Ab(1073742336,en.c,en.c,[]),e.Ab(1073742336,an.a,an.a,[]),e.Ab(1073742336,on.a,on.a,[]),e.Ab(1073742336,V.v,V.v,[]),e.Ab(1073742336,V.s,V.s,[]),e.Ab(1073742336,D.c,D.c,[]),e.Ab(1073742336,cn.a,cn.a,[]),e.Ab(1073742336,un.c,un.c,[]),e.Ab(1073742336,sn.a,sn.a,[]),e.Ab(1073742336,bn.a,bn.a,[[2,D.g],e.z]),e.Ab(1073742336,rn.a,rn.a,[]),e.Ab(1073742336,a,a,[]),e.Ab(1024,R.m,(function(){return[[{path:"",component:M}]]}),[])])}))}}]);
//# sourceMappingURL=14-es5.68f145e675782bd7f15a.js.map