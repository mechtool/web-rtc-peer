function _defineProperty(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function _arrayWithoutHoles(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{JSOT:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J"),o=function n(){_classCallCheck(this,n)},a=e("pMnS"),i=e("SVse"),c=e("FbN9"),r=e("BzsH"),u=e("/HVE"),s=e("2/pp"),b=e("xQwi"),d=e("VYsW"),p=e("ZJFI"),v=e("Mr+X"),f=e("Gi4r"),h=function(){function n(t,e){_classCallCheck(this,n),this.videoPlayer=t,this.appContext=e,this.icons={video:["video-off","video"],audio:["audio-off","audio"]},this.video=this.icons.video[1],this.audio=this.icons.audio[1]}return _createClass(n,[{key:"startVisual",value:function(){var n=this;Object.keys(this.context.visual).sort((function(n,t){return+n-+t})).forEach((function(t){var e=setTimeout((function(){var l=n.context.visual[t];n.video=n.icons.video[l.video],n.audio=n.icons.audio[l.audio],n.appContext.appChangeRef.markForCheck(),clearTimeout(e)}),+t-n.context.startTime)}))}},{key:"onLoadedData",value:function(){this.context.className.active=!0,this.context.visual&&this.startVisual(),this.appContext.appChangeRef.markForCheck()}},{key:"onEnded",value:function(){this.context.videoStart=this.context.className.active=!1,this.appContext.appChangeRef.markForCheck()}}]),n}(),m=function(){function n(t,e){var l=this;_classCallCheck(this,n),this.http=t,this.appContext=e,this.dataLoaded=!1,this.activeVideoBlocks=[];var o=Object.values(this.appContext.activeMessage.metadata),a=Math.min.apply(Math,_toConsumableArray(o.map((function(n){return n.startTime}))));this.videoMetadata=o.map((function(n){var t;l.http.get(n.downLoadedUrl).subscribe((function(n){}));var e={startTime:n.startTime,visual:n.visual,videoStart:!1,src:n.downLoadedUrl,uid:n.uid,local:n.local,contact:n.local?l.appContext.activeMessage.sender:l.appContext.activeMessage.receivers.find((function(t){return t.uid===n.uid})),className:(t={local:n.local},_defineProperty(t,n.uid,!0),_defineProperty(t,"active",!1),_defineProperty(t,"fixed",!1),t),t:setTimeout((function(){e.videoStart=!0,clearTimeout(e.t),l.activeVideoBlocks.push(e),l.checkFixed(),l.appContext.appChangeRef.markForCheck()}),n.startTime-a)};return e}))}return _createClass(n,[{key:"checkFixed",value:function(){this.activeVideoBlocks.length>1&&this.activeVideoBlocks.forEach((function(n){n.local&&(n.className.fixed=!0)}))}},{key:"ngOnInit",value:function(){}}]),n}(),A=l.ob({encapsulation:0,styles:[["div.video-block-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;width:100%;height:100%;position:relative}.active-video-block[_ngcontent-%COMP%]{width:100%;height:100%}.video-block-toolbar[_ngcontent-%COMP%]{z-index:6;position:absolute;top:0;left:0;background:0 0;color:#fff}video.video-element[_ngcontent-%COMP%]{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}div.video-metadata-container.local.active.fixed[_nghost-%COMP%]     .contact-name, div.video-metadata-container.local.active.fixed   [_nghost-%COMP%]     .contact-name{display:none}"]],data:{}});function g(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,11,"div",[["class","active-video-block"]],null,null,null,null,null)),(n()(),l.qb(1,0,null,null,9,"mat-toolbar",[["class","video-block-toolbar mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,c.b,c.a)),l.pb(2,4243456,null,1,r.a,[l.k,u.a,i.d],null,null),l.Hb(603979776,1,{_toolbarRows:1}),(n()(),l.qb(4,0,null,0,1,"app-contact",[],null,null,null,s.b,s.a)),l.pb(5,114688,null,0,b.a,[l.h,d.a,p.a,l.z],{context:[0,"context"]},null),(n()(),l.qb(6,0,null,0,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),l.qb(7,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),l.pb(8,9158656,null,0,f.b,[l.k,f.d,[8,null],[2,f.a],[2,l.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),l.qb(9,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),l.pb(10,9158656,null,0,f.b,[l.k,f.d,[8,null],[2,f.a],[2,l.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),l.qb(11,0,null,null,0,"video",[["autoplay",""],["class","video-element"],["playsinline",""]],[[8,"src",4]],[[null,"loadeddata"],[null,"ended"]],(function(n,t,e){var l=!0,o=n.component;return"loadeddata"===t&&(l=!1!==o.onLoadedData()&&l),"ended"===t&&(l=!1!==o.onEnded()&&l),l}),null,null))],(function(n,t){var e=t.component;n(t,5,0,e.context.contact),n(t,8,0,e.video),n(t,10,0,e.audio)}),(function(n,t){var e=t.component;n(t,1,0,l.Cb(t,2)._toolbarRows.length>0,0===l.Cb(t,2)._toolbarRows.length),n(t,7,0,l.Cb(t,8).inline,"primary"!==l.Cb(t,8).color&&"accent"!==l.Cb(t,8).color&&"warn"!==l.Cb(t,8).color),n(t,9,0,l.Cb(t,10).inline,"primary"!==l.Cb(t,10).color&&"accent"!==l.Cb(t,10).color&&"warn"!==l.Cb(t,10).color),n(t,11,0,e.context.src)}))}function C(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,2,"div",[["class","video-block-container"]],null,null,null,null,null)),(n()(),l.gb(16777216,null,null,1,null,g)),l.pb(2,16384,null,0,i.l,[l.N,l.K],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.context.videoStart)}),null)}var y=e("IheW"),x=l.ob({encapsulation:0,styles:[["div.video-player-container[_ngcontent-%COMP%]{display:flex;justify-content:stretch;align-items:stretch;width:100%;height:100%}div.video-metadata-container.local.active.fixed[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:200px;height:200px;z-index:5}div.video-metadata-container[_ngcontent-%COMP%]{transition:all .3s;flex:1 1 0}@media (orientation:landscape){div.video-player-container[_ngcontent-%COMP%]{flex-direction:row}}@media (orientation:portrait){div.video-player-container[_ngcontent-%COMP%]{flex-direction:column}}"]],data:{}});function k(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,4,"div",[["class","video-metadata-container"]],null,null,null,null,null)),l.Gb(512,null,i.y,i.z,[l.q,l.r,l.k,l.C]),l.pb(2,278528,null,0,i.j,[i.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),l.qb(3,0,null,null,1,"app-video-block",[],null,null,null,C,A)),l.pb(4,49152,null,0,h,[m,d.a],{context:[0,"context"]},null)],(function(n,t){n(t,2,0,"video-metadata-container",t.context.$implicit.className),n(t,4,0,t.context.$implicit)}),null)}function _(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,2,"div",[["class","video-player-container"]],null,null,null,null,null)),(n()(),l.gb(16777216,null,null,1,null,k)),l.pb(2,278528,null,0,i.k,[l.N,l.K,l.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){n(t,2,0,t.component.videoMetadata)}),null)}var w=l.mb("app-video-player",m,(function(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,1,"app-video-player",[],null,null,null,_,x)),l.pb(1,114688,null,0,m,[y.c,d.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),P=e("NcP4"),O=e("POq0"),j=e("QQfA"),M=e("IP0z"),q=e("JjoW"),T=e("Mz6y"),I=e("cUpR"),F=e("Xd0L"),z=e("gavF"),L=e("/Co4"),N=e("s7LF"),V=e("/q54"),R=e("iInd"),S=function n(){_classCallCheck(this,n)},J=e("igqZ"),W=e("HsOI"),E=e("zMNK"),B=e("hOhj"),H=e("5GAg"),Z=e("Fwaw"),D=e("oapL"),G=e("ZwOa"),K=e("8P0U"),Q=e("W5yJ"),U=e("elxJ"),X=e("rWV4"),Y=e("KPQW"),$=e("mkRZ"),nn=e("pBi1"),tn=e("lT8R"),en=e("7of8"),ln=e("VDRc"),on=e("ura0"),an=e("Nhcz"),cn=e("u9T3"),rn=e("Gcy5");e.d(t,"VideoPlayerModuleNgFactory",(function(){return un}));var un=l.nb(o,[],(function(n){return l.zb([l.Ab(512,l.j,l.Z,[[8,[a.a,w,P.a]],[3,l.j],l.v]),l.Ab(4608,i.n,i.m,[l.s,[2,i.D]]),l.Ab(4608,O.c,O.c,[]),l.Ab(4608,j.c,j.c,[j.i,j.e,l.j,j.h,j.f,l.p,l.x,i.d,M.b,[2,i.h]]),l.Ab(5120,j.j,j.k,[j.c]),l.Ab(5120,q.a,q.b,[j.c]),l.Ab(5120,T.b,T.c,[j.c]),l.Ab(4608,I.e,F.c,[[2,F.g],[2,F.l]]),l.Ab(4608,F.b,F.b,[]),l.Ab(5120,z.a,z.d,[j.c]),l.Ab(5120,L.b,L.c,[j.c]),l.Ab(4608,N.e,N.e,[]),l.Ab(4608,N.w,N.w,[]),l.Ab(5120,l.b,(function(n,t){return[V.j(n,t)]}),[i.d,l.z]),l.Ab(1073742336,i.c,i.c,[]),l.Ab(1073742336,R.s,R.s,[[2,R.x],[2,R.o]]),l.Ab(1073742336,S,S,[]),l.Ab(1073742336,M.a,M.a,[]),l.Ab(1073742336,F.l,F.l,[[2,F.d],[2,I.f]]),l.Ab(1073742336,r.b,r.b,[]),l.Ab(1073742336,f.c,f.c,[]),l.Ab(1073742336,J.c,J.c,[]),l.Ab(1073742336,O.d,O.d,[]),l.Ab(1073742336,W.e,W.e,[]),l.Ab(1073742336,E.e,E.e,[]),l.Ab(1073742336,u.b,u.b,[]),l.Ab(1073742336,B.b,B.b,[]),l.Ab(1073742336,j.g,j.g,[]),l.Ab(1073742336,F.v,F.v,[]),l.Ab(1073742336,F.t,F.t,[]),l.Ab(1073742336,F.q,F.q,[]),l.Ab(1073742336,q.d,q.d,[]),l.Ab(1073742336,H.a,H.a,[]),l.Ab(1073742336,T.e,T.e,[]),l.Ab(1073742336,Z.c,Z.c,[]),l.Ab(1073742336,D.c,D.c,[]),l.Ab(1073742336,G.b,G.b,[]),l.Ab(1073742336,K.c,K.c,[]),l.Ab(1073742336,Q.c,Q.c,[]),l.Ab(1073742336,U.d,U.d,[]),l.Ab(1073742336,X.j,X.j,[]),l.Ab(1073742336,Y.b,Y.b,[]),l.Ab(1073742336,z.c,z.c,[]),l.Ab(1073742336,z.b,z.b,[]),l.Ab(1073742336,L.e,L.e,[]),l.Ab(1073742336,$.a,$.a,[]),l.Ab(1073742336,nn.d,nn.d,[]),l.Ab(1073742336,nn.c,nn.c,[]),l.Ab(1073742336,tn.a,tn.a,[]),l.Ab(1073742336,en.a,en.a,[]),l.Ab(1073742336,N.v,N.v,[]),l.Ab(1073742336,N.s,N.s,[]),l.Ab(1073742336,V.c,V.c,[]),l.Ab(1073742336,ln.a,ln.a,[]),l.Ab(1073742336,on.c,on.c,[]),l.Ab(1073742336,an.a,an.a,[]),l.Ab(1073742336,cn.a,cn.a,[[2,V.g],l.z]),l.Ab(1073742336,rn.a,rn.a,[]),l.Ab(1073742336,o,o,[]),l.Ab(1024,R.m,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);
//# sourceMappingURL=19-es5.dbbe0ab3706a3dee3d81.js.map