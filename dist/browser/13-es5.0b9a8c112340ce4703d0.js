function _defineProperty(n,t,l){return t in n?Object.defineProperty(n,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[t]=l,n}function _defineProperties(n,t){for(var l=0;l<t.length;l++){var e=t[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,l){return t&&_defineProperties(n.prototype,t),l&&_defineProperties(n,l),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{ICdQ:function(n,t,l){"use strict";l.r(t);var e=l("8Y7J"),a=function n(){_classCallCheck(this,n)},o=l("pMnS"),c=l("9Rn4"),s=l("YzQ4"),i=l("VYsW"),u=l("FbN9"),r=l("BzsH"),b=l("/HVE"),d=l("SVse"),p=l("bujt"),C=l("Mz6y"),h=l("QQfA"),f=l("hOhj"),m=l("5GAg"),g=l("IP0z"),v=l("cUpR"),k=l("Fwaw"),y=l("omvX"),x=l("Mr+X"),_=l("Gi4r"),w=l("lzlj"),O=l("igqZ"),E=l("cu63"),P=l("Rf8I"),j=l("V+Fh"),I=l("mrSG"),M=function(){function n(t,l,e,a,o){_classCallCheck(this,n),this.appContext=t,this.database=l,this.colorThemeService=e,this.router=a,this.platformId=o,this.subscribers=[],this.search=!1,this.contactsHeader="\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",this.activateEdit=!0,this.buttons=[]}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;Object(d.v)(this.platformId)&&(this.buttons=["search_contact","remove_contact"],this.contactRestriction=window.localStorage.getItem("contactRestriction"),this.subscribers.push(this.appContext.contacts.subscribe((function(t){n.contactsLength=t.length}))),this.subscribers.push(this.appContext.appUsers.subscribe((function(t){n.appUsers=t}))))}},{key:"onActivatedContact",value:function(n){n.add?"0"==this.contactRestriction&&Object.keys(this.appContext.activeContacts).length<1||"1"==this.contactRestriction?this.appContext.activeContacts[n.contact.uid]=n.contact:console.log("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442. \u041f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432."):delete this.appContext.activeContacts[n.contact.uid],this.activateEdit=!Object.keys(this.appContext.activeContacts).length}},{key:"onOptionSelected",value:function(n){this.database.setContacts({contactURL:"/contacts/"+this.appContext.user.value.uid,value:_defineProperty({},n.uid,n)}).then((function(n){})).catch((function(n){}))}},{key:"onDeleteContacts",value:function(){return I.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=regeneratorRuntime.keys(this.appContext.activeContacts);case 1:if((n.t1=n.t0()).done){n.next=7;break}return t=n.t1.value,n.next=5,this.database.setContacts({contactURL:"/contacts/"+this.appContext.user.value.uid,value:_defineProperty({},t,null)}).then((function(){return console.log("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0443\u0434\u0430\u043b\u0435\u043d\u044b.")}));case 5:n.next=1;break;case 7:this.appContext.activeContacts={},this.activateEdit=!0;case 8:case"end":return n.stop()}}),n,this)})))}},{key:"triggerSearch",value:function(){this.search=!this.search}},{key:"ngOnDestroy",value:function(){this.subscribers.forEach((function(n){return n.unsubscribe()}))}}]),n}(),R=l("ZJFI"),z=l("iInd"),N=e.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;height:100%}.contacts-not[_ngcontent-%COMP%]{color:#bebebe}.contacts-header[_ngcontent-%COMP%]{font-size:18px!important}.added-contacts-container[_ngcontent-%COMP%]{margin-top:16px}mat-card.contacts-container[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;overflow-y:auto!important;flex:1 1 0!important}button.toolbar-button.active[_ngcontent-%COMP%]{background:rgba(255,255,255,.15)}mat-icon[_ngcontent-%COMP%]{position:relative;top:-2px}.element-control-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}div.contacts-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;height:100%}.contact-table-container[_ngcontent-%COMP%]{flex:1 1 0}@media (max-width:400px){.contacts-search-header[_ngcontent-%COMP%]{display:none}}"]],data:{}});function L(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"span",[["class","contacts-header contacts-search-header"]],null,null,null,null,null)),(n()(),e.Lb(-1,null,[" : \u043f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"]))],null,null)}function S(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-contact-search",[],null,[[null,"selectedOption"]],(function(n,t,l){var e=!0;return"selectedOption"===t&&(e=!1!==n.component.onOptionSelected(l)&&e),e}),c.b,c.a)),e.rb(1,114688,null,0,s.a,[i.a,e.h],{collection:[0,"collection"],baseCollection:[1,"baseCollection"]},{selectedOption:"selectedOption"})],(function(n,t){var l=t.component;n(t,1,0,l.appContext.contacts,l.appContext.appUsers)}),null)}function J(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,20,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,u.b,u.a)),e.rb(1,4243456,null,1,r.a,[e.k,b.a,d.d],{color:[0,"color"]},null),e.Jb(603979776,1,{_toolbarRows:1}),(n()(),e.sb(3,0,null,0,1,"span",[["class","contacts-header"]],null,null,null,null,null)),(n()(),e.Lb(4,null,["",""])),(n()(),e.ib(16777216,null,0,1,null,L)),e.rb(6,16384,null,0,d.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(7,0,null,0,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),e.sb(8,16777216,null,0,7,"button",[["class","toolbar-button search-trigger"],["mat-icon-button",""],["matTooltip","\u041f\u043e\u0438\u0441\u043a"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,t,l){var a=!0,o=n.component;return"longpress"===t&&(a=!1!==e.Eb(n,12).show()&&a),"keydown"===t&&(a=!1!==e.Eb(n,12)._handleKeydown(l)&&a),"touchend"===t&&(a=!1!==e.Eb(n,12)._handleTouchend()&&a),"click"===t&&(a=!1!==o.triggerSearch()&&a),a}),p.b,p.a)),e.Ib(512,null,d.y,d.z,[e.q,e.r,e.k,e.D]),e.rb(10,278528,null,0,d.j,[d.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Gb(11,{active:0}),e.rb(12,212992,null,0,C.d,[h.c,e.k,f.a,e.O,e.x,b.a,m.c,m.f,C.b,[2,g.b],[2,C.a],[2,v.f]],{message:[0,"message"]},null),e.rb(13,180224,null,0,k.b,[e.k,m.f,[2,y.a]],null,null),(n()(),e.sb(14,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,x.b,x.a)),e.rb(15,9158656,null,0,_.b,[e.k,_.d,[8,null],[2,_.a],[2,e.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),e.sb(16,16777216,null,0,4,"button",[["class","toolbar-button delete-contact"],["mat-icon-button",""],["matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,t,l){var a=!0,o=n.component;return"longpress"===t&&(a=!1!==e.Eb(n,17).show()&&a),"keydown"===t&&(a=!1!==e.Eb(n,17)._handleKeydown(l)&&a),"touchend"===t&&(a=!1!==e.Eb(n,17)._handleTouchend()&&a),"click"===t&&(a=!1!==o.onDeleteContacts()&&a),a}),p.b,p.a)),e.rb(17,212992,null,0,C.d,[h.c,e.k,f.a,e.O,e.x,b.a,m.c,m.f,C.b,[2,g.b],[2,C.a],[2,v.f]],{message:[0,"message"]},null),e.rb(18,180224,null,0,k.b,[e.k,m.f,[2,y.a]],{disabled:[0,"disabled"]},null),(n()(),e.sb(19,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,x.b,x.a)),e.rb(20,9158656,null,0,_.b,[e.k,_.d,[8,null],[2,_.a],[2,e.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),e.sb(21,0,null,null,8,"mat-card",[["class","contacts-container mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,w.b,w.a)),e.rb(22,49152,null,0,O.a,[[2,y.a]],null,null),(n()(),e.sb(23,0,null,0,6,"div",[["class","contacts-block"]],null,null,null,null,null)),(n()(),e.sb(24,0,null,null,2,"div",[["class","element-control-container"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,S)),e.rb(26,16384,null,0,d.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(27,0,null,null,2,"div",[["class","contact-table-container"]],null,null,null,null,null)),(n()(),e.sb(28,0,null,null,1,"app-contact-table",[["class","inner-contact-table"]],null,[[null,"activatedContact"]],(function(n,t,l){var e=!0;return"activatedContact"===t&&(e=!1!==n.component.onActivatedContact(l)&&e),e}),E.b,E.a)),e.rb(29,114688,null,0,P.a,[j.a],{context:[0,"context"]},{activatedContact:"activatedContact"})],(function(n,t){var l=t.component;n(t,1,0,"primary"),n(t,6,0,l.search);var e=n(t,11,0,l.search);n(t,10,0,"toolbar-button search-trigger",e),n(t,12,0,"\u041f\u043e\u0438\u0441\u043a"),n(t,15,0,l.buttons[0]),n(t,17,0,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),n(t,18,0,l.activateEdit),n(t,20,0,l.buttons[1]),n(t,26,0,l.search),n(t,29,0,l.appContext.contacts)}),(function(n,t){var l=t.component;n(t,0,0,e.Eb(t,1)._toolbarRows.length>0,0===e.Eb(t,1)._toolbarRows.length),n(t,4,0,l.contactsHeader),n(t,8,0,e.Eb(t,13).disabled||null,"NoopAnimations"===e.Eb(t,13)._animationMode),n(t,14,0,e.Eb(t,15).inline,"primary"!==e.Eb(t,15).color&&"accent"!==e.Eb(t,15).color&&"warn"!==e.Eb(t,15).color),n(t,16,0,e.Eb(t,18).disabled||null,"NoopAnimations"===e.Eb(t,18)._animationMode),n(t,19,0,e.Eb(t,20).inline,"primary"!==e.Eb(t,20).color&&"accent"!==e.Eb(t,20).color&&"warn"!==e.Eb(t,20).color),n(t,21,0,"NoopAnimations"===e.Eb(t,22)._animationMode)}))}var T=e.ob("app-contacts",M,(function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"app-contacts",[],null,null,null,J,N)),e.rb(1,245760,null,0,M,[i.a,R.a,j.a,z.o,e.z],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),q=l("NcP4"),A=l("POq0"),F=l("JjoW"),U=l("Xd0L"),D=l("gavF"),V=l("/Co4"),G=l("s7LF"),H=l("/q54"),Q=function n(){_classCallCheck(this,n)},W=l("HsOI"),K=l("zMNK"),Z=l("oapL"),B=l("ZwOa"),X=l("8P0U"),Y=l("W5yJ"),$=l("elxJ"),nn=l("rWV4"),tn=l("KPQW"),ln=l("mkRZ"),en=l("pBi1"),an=l("lT8R"),on=l("7of8"),cn=l("VDRc"),sn=l("ura0"),un=l("Nhcz"),rn=l("u9T3"),bn=l("Gcy5");l.d(t,"ContactsModuleNgFactory",(function(){return dn}));var dn=e.pb(a,[],(function(n){return e.Bb([e.Cb(512,e.j,e.bb,[[8,[o.a,T,q.a]],[3,e.j],e.v]),e.Cb(4608,d.n,d.m,[e.s,[2,d.D]]),e.Cb(4608,A.c,A.c,[]),e.Cb(4608,h.c,h.c,[h.i,h.e,e.j,h.h,h.f,e.p,e.x,d.d,g.b,[2,d.h]]),e.Cb(5120,h.j,h.k,[h.c]),e.Cb(5120,F.a,F.b,[h.c]),e.Cb(5120,C.b,C.c,[h.c]),e.Cb(4608,v.e,U.c,[[2,U.g],[2,U.l]]),e.Cb(4608,U.b,U.b,[]),e.Cb(5120,D.a,D.d,[h.c]),e.Cb(5120,V.b,V.c,[h.c]),e.Cb(4608,G.e,G.e,[]),e.Cb(4608,G.w,G.w,[]),e.Cb(5120,e.b,(function(n,t){return[H.j(n,t)]}),[d.d,e.z]),e.Cb(1073742336,d.c,d.c,[]),e.Cb(1073742336,z.s,z.s,[[2,z.x],[2,z.o]]),e.Cb(1073742336,Q,Q,[]),e.Cb(1073742336,g.a,g.a,[]),e.Cb(1073742336,U.l,U.l,[[2,U.d],[2,v.f]]),e.Cb(1073742336,r.b,r.b,[]),e.Cb(1073742336,_.c,_.c,[]),e.Cb(1073742336,O.c,O.c,[]),e.Cb(1073742336,A.d,A.d,[]),e.Cb(1073742336,W.e,W.e,[]),e.Cb(1073742336,K.e,K.e,[]),e.Cb(1073742336,b.b,b.b,[]),e.Cb(1073742336,f.b,f.b,[]),e.Cb(1073742336,h.g,h.g,[]),e.Cb(1073742336,U.v,U.v,[]),e.Cb(1073742336,U.t,U.t,[]),e.Cb(1073742336,U.q,U.q,[]),e.Cb(1073742336,F.d,F.d,[]),e.Cb(1073742336,m.a,m.a,[]),e.Cb(1073742336,C.e,C.e,[]),e.Cb(1073742336,k.c,k.c,[]),e.Cb(1073742336,Z.c,Z.c,[]),e.Cb(1073742336,B.b,B.b,[]),e.Cb(1073742336,X.c,X.c,[]),e.Cb(1073742336,Y.c,Y.c,[]),e.Cb(1073742336,$.d,$.d,[]),e.Cb(1073742336,nn.j,nn.j,[]),e.Cb(1073742336,tn.b,tn.b,[]),e.Cb(1073742336,D.c,D.c,[]),e.Cb(1073742336,D.b,D.b,[]),e.Cb(1073742336,V.e,V.e,[]),e.Cb(1073742336,ln.a,ln.a,[]),e.Cb(1073742336,en.d,en.d,[]),e.Cb(1073742336,en.c,en.c,[]),e.Cb(1073742336,an.a,an.a,[]),e.Cb(1073742336,on.a,on.a,[]),e.Cb(1073742336,G.v,G.v,[]),e.Cb(1073742336,G.s,G.s,[]),e.Cb(1073742336,H.c,H.c,[]),e.Cb(1073742336,cn.a,cn.a,[]),e.Cb(1073742336,sn.c,sn.c,[]),e.Cb(1073742336,un.a,un.a,[]),e.Cb(1073742336,rn.a,rn.a,[[2,H.g],e.z]),e.Cb(1073742336,bn.a,bn.a,[]),e.Cb(1073742336,a,a,[]),e.Cb(1024,z.m,(function(){return[[{path:"",component:M}]]}),[])])}))}}]);
//# sourceMappingURL=13-es5.0b9a8c112340ce4703d0.js.map