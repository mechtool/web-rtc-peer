{"version":3,"sources":["webpack:///src/app/modules/application/web-rtc/web-rtc.module.ts","webpack:///src/app/modules/application/web-rtc/video-channel/video-channel.component.ts","webpack:///src/app/modules/application/web-rtc/video-channel/video-channel.component.ngfactory.js.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/video-channel/video-channel.component.css.shim.ngstyle.js.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/video-channel/video-channel.component.html","webpack:///src/app/modules/application/web-rtc/web-rtc-context/web-rtc-context.component.ts","webpack:///src/app/modules/application/web-rtc/web-rtc-context/web-rtc-context.component.ngfactory.js.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/web-rtc-context/web-rtc-context.component.css.shim.ngstyle.js.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/web-rtc-context/web-rtc-context.component.html","webpack:///src/app/modules/application/web-rtc/web-rtc.component.ts","webpack:///src/app/modules/application/web-rtc/web-rtc.component.ts.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/web-rtc.component.ngfactory.js.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/web-rtc.component.css.shim.ngstyle.js.pre-build-optimizer.js","webpack:///src/app/modules/application/web-rtc/web-rtc.component.html","webpack:///src/app/modules/application/web-rtc/web-rtc-routing.module.ts","webpack:///src/app/modules/application/web-rtc/web-rtc.module.ngfactory.js.pre-build-optimizer.js"],"names":["WebRtcModule","VideoChannelComponent","appContext","this","subscriptions","bottomVideo","bottomAudio","topPeerVideoImg","topPeerAudioImg","buttons","push","videoContext","dataChannel","data","subscribe","forEach","sub","unsubscribe","inx","RenderType_VideoChannelComponent","core","ob","encapsulation","styles","View_VideoChannelComponent_1","_l","Lb","qb","index_ngfactory","b","a","pb","icon","k","d","l","svgIcon","badge","x","a11y","c","C","animations","color","content","size","_ck","_v","_co","component","notifications","length","Cb","inline","overlap","isAbove","isAfter","hidden","_hasContent","disabled","View_VideoChannelComponent_2","View_VideoChannelComponent_3","typings_index_ngfactory","esm2015_button","f","_animationMode","View_VideoChannelComponent_4","en","$event","ad","clickIcon","View_VideoChannelComponent_0","Gb","common","y","z","q","r","j","klass","ngClass","toolbar_typings_index_ngfactory","toolbar","platform","Hb","_toolbarRows","contact_component_ngfactory","contact_component","h","app_context_service","context","Db","gb","N","K","ngIf","onLoadedData","onEnded","className","Kb","transform","contact","local","stream","WebRtcContextComponent","_classCallCheck","RenderType_WebRtcContextComponent","View_WebRtcContextComponent_1","$implicit","View_WebRtcContextComponent_0","ngForOf","videoCollection","web_rtc_component_WebRtcComponent","router","webRtcService","database","statusColor","duplicateCall","JSON","parse","window","localStorage","getItem","optimizeCall","video","micro","audio","constraints","deviceId","volume","events","pipe","Object","filter","event","g","startConnections","desc","tslib_es6","__awaiter","regeneratorRuntime","mark","_callee2","webRtcContext","initiator","messageContacts","localIndex","_this","wrap","_context2","prev","next","webRtcContexts","getContext","contextId","abrupt","localStream","uid","appUser","navigator","mediaDevices","getUserMedia","sent","sender","concat","receivers","value","findIndex","user","contactIndex","webRtcConnectionContext","webRtcConnections","Classes","webRtcUid","BehaviorSubject","active","fixed","pulse","Subject","send","pcConnection","SimplePeer","channelName","config","stunTurnConfig","stun","on","_callee","descriptor","candidate","_context","type","offer","action","stringify","optimize","answer","t0","sendDescriptor","date","Date","now","descId","messId","candidates","catch","onError","stop","_pc","addEventListener","target","iceGatheringState","then","console","log","setAnnouncement","text","statusColors","webrtc","perConnectionStates","err","setDescriptor","setImplicitListeners","appChangeRef","markForCheck","signal","_this2","_callee3","_context3","checkCandidates","func","ref","orderByChild","equalTo","once","res","val","bind","Promise","rej","setCandidates","requestCandidates","values","_this5","_callee4","_context4","setDescriptorOptions","popup","announcements","error","RenderType_WebRtcComponent","View_WebRtcComponent_1","View_WebRtcComponent_0","contexts","WebRtcComponentNgFactory","mb","o","web_rtc_service","database_service","status_colors_service","WebRtcRoutingModule","__webpack_require__","__webpack_exports__","WebRtcModuleNgFactory","nb","zb","Ab","Z","router_ngfactory","tooltip_typings_index_ngfactory","v","n","m","s","D","observers","overlay","i","e","p","bidi","esm2015_select","tooltip","platform_browser","esm2015_core","menu","autocomplete","fesm2015_forms","w","p0_0","p0_1","flex_layout_esm2015_core","card","form_field","portal","scrolling","t","text_field","input","progress_bar","progress_spinner","esm2015_radio","tabs","button_toggle","slide_toggle","slider","material_module","flex","extended","grid","flex_layout","general_module","path"],"mappings":"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","file":"18-es5.91a77c48a33e828415a1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { WebRtcRoutingModule } from './web-rtc-routing.module';\nimport { WebRtcComponent } from './web-rtc.component';\nimport {MaterialModule} from \"../../material/material.module\";\nimport { VideoChannelComponent } from './video-channel/video-channel.component';\nimport { WebRtcContextComponent } from './web-rtc-context/web-rtc-context.component';\nimport {GeneralModule} from \"../../general/general.module\";\n\n\n@NgModule({\n  declarations: [\n      WebRtcComponent,\n      VideoChannelComponent,\n      WebRtcContextComponent\n  ],\n  imports: [\n    CommonModule,\n    WebRtcRoutingModule,\n      MaterialModule,\n      GeneralModule,\n  ]\n})\nexport class WebRtcModule { }\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {VideoContext} from \"../../../../Classes/Classes\";\nimport {AppContextService} from \"../../../../services/app-context.service\";\n\n@Component({\n  selector: 'app-video-channel',\n  templateUrl: './video-channel.component.html',\n  styleUrls: ['./video-channel.component.css']\n})\nexport class VideoChannelComponent implements OnInit, OnDestroy {\n\n    public subscriptions = [];\n    public bottomVideo = 'video';\n    public bottomAudio = 'audio';\n    public topPeerVideoImg = 'video';\n    public topPeerAudioImg = 'audio';\n    public buttons = [['video-off', 'video'], ['audio-off', 'audio']];\n    \n    @Input() public videoContext : VideoContext;\n  constructor(public appContext : AppContextService) {\n  }\n\n  ngOnInit() {\n      this.subscriptions.push(this.videoContext.dataChannel.data.subscribe(data => {\n            //Прилетели данные по каналу данных\n      }));\n  }\n   ngOnDestroy(): void {\n       this.subscriptions.forEach(sub => sub.unsubscribe());\n   }\n    \n    clickIcon(inx){\n        switch (inx) {\n\t    case 0 : this.bottomVideo =  this.buttons[0][this.bottomVideo === 'video' ? 0 : 1] ;\n\t\tbreak;\n\t    case 1 : this.bottomAudio =  this.buttons[1][this.bottomAudio === 'audio' ? 0 : 1];\n\t\tbreak;\n\t}\n    }\n  \n    onLoadedData(){\n    \n    }\n    onEnded(){\n      \n    }\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./video-channel.component.css.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../../../../../../node_modules/@angular/material/icon/typings/index.ngfactory\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/material/badge\";\nimport * as i5 from \"@angular/cdk/a11y\";\nimport * as i6 from \"@angular/platform-browser/animations\";\nimport * as i7 from \"../../../../../../node_modules/@angular/material/button/typings/index.ngfactory\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"../../../../../../node_modules/@angular/material/toolbar/typings/index.ngfactory\";\nimport * as i11 from \"@angular/material/toolbar\";\nimport * as i12 from \"@angular/cdk/platform\";\nimport * as i13 from \"../../../general/contact/contact.component.ngfactory\";\nimport * as i14 from \"../../../general/contact/contact.component\";\nimport * as i15 from \"../../../../services/app-context.service\";\nimport * as i16 from \"./video-channel.component\";\nvar styles_VideoChannelComponent = [i0.styles];\nvar RenderType_VideoChannelComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_VideoChannelComponent, data: {} });\nexport { RenderType_VideoChannelComponent as RenderType_VideoChannelComponent };\nfunction View_VideoChannelComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"div\", [[\"class\", \"top-local-block\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, \"mat-icon\", [[\"class\", \"mat-icon notranslate mat-badge\"], [\"matBadgeSize\", \"small\"], [\"role\", \"img\"], [\"svgIcon\", \"notifications\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null], [2, \"mat-badge-overlap\", null], [2, \"mat-badge-above\", null], [2, \"mat-badge-below\", null], [2, \"mat-badge-before\", null], [2, \"mat-badge-after\", null], [2, \"mat-badge-small\", null], [2, \"mat-badge-medium\", null], [2, \"mat-badge-large\", null], [2, \"mat-badge-hidden\", null], [2, \"mat-badge-disabled\", null]], null, null, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(2, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), i1.ɵdid(3, 671744, null, 0, i4.MatBadge, [i1.NgZone, i1.ElementRef, i5.AriaDescriber, i1.Renderer2, [2, i6.ANIMATION_MODULE_TYPE]], { color: [0, \"color\"], content: [1, \"content\"], size: [2, \"size\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_12 = \"notifications\"; _ck(_v, 2, 0, currVal_12); var currVal_13 = \"accent\"; var currVal_14 = ((_co.appContext.notifications.length > 0) ? (_co.appContext.notifications.length + \"\") : \"\"); var currVal_15 = \"small\"; _ck(_v, 3, 0, currVal_13, currVal_14, currVal_15); }, function (_ck, _v) { var currVal_0 = i1.ɵnov(_v, 2).inline; var currVal_1 = (((i1.ɵnov(_v, 2).color !== \"primary\") && (i1.ɵnov(_v, 2).color !== \"accent\")) && (i1.ɵnov(_v, 2).color !== \"warn\")); var currVal_2 = i1.ɵnov(_v, 3).overlap; var currVal_3 = i1.ɵnov(_v, 3).isAbove(); var currVal_4 = !i1.ɵnov(_v, 3).isAbove(); var currVal_5 = !i1.ɵnov(_v, 3).isAfter(); var currVal_6 = i1.ɵnov(_v, 3).isAfter(); var currVal_7 = (i1.ɵnov(_v, 3).size === \"small\"); var currVal_8 = (i1.ɵnov(_v, 3).size === \"medium\"); var currVal_9 = (i1.ɵnov(_v, 3).size === \"large\"); var currVal_10 = (i1.ɵnov(_v, 3).hidden || !i1.ɵnov(_v, 3)._hasContent); var currVal_11 = i1.ɵnov(_v, 3).disabled; _ck(_v, 1, 1, [currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11]); }); }\nfunction View_VideoChannelComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, \"div\", [[\"class\", \"top-peer-block\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, \"mat-icon\", [[\"class\", \"video-peer-img mat-icon notranslate\"], [\"role\", \"img\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(2, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), (_l()(), i1.ɵeld(3, 0, null, null, 1, \"mat-icon\", [[\"class\", \"microphone-peer-img mat-icon notranslate\"], [\"role\", \"img\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(4, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = _co.topPeerVideoImg; _ck(_v, 2, 0, currVal_2); var currVal_5 = _co.topPeerAudioImg; _ck(_v, 4, 0, currVal_5); }, function (_ck, _v) { var currVal_0 = i1.ɵnov(_v, 2).inline; var currVal_1 = (((i1.ɵnov(_v, 2).color !== \"primary\") && (i1.ɵnov(_v, 2).color !== \"accent\")) && (i1.ɵnov(_v, 2).color !== \"warn\")); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_3 = i1.ɵnov(_v, 4).inline; var currVal_4 = (((i1.ɵnov(_v, 4).color !== \"primary\") && (i1.ɵnov(_v, 4).color !== \"accent\")) && (i1.ɵnov(_v, 4).color !== \"warn\")); _ck(_v, 3, 0, currVal_3, currVal_4); }); }\nfunction View_VideoChannelComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, \"div\", [[\"class\", \"bottom-local-block\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, \"button\", [[\"mat-fab\", \"\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], null, null, i7.View_MatButton_0, i7.RenderType_MatButton)), i1.ɵdid(2, 180224, null, 0, i8.MatButton, [i1.ElementRef, i5.FocusMonitor, [2, i6.ANIMATION_MODULE_TYPE]], null, null), (_l()(), i1.ɵeld(3, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"phone-hangup\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(4, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var currVal_4 = \"phone-hangup\"; _ck(_v, 4, 0, currVal_4); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 2).disabled || null); var currVal_1 = (i1.ɵnov(_v, 2)._animationMode === \"NoopAnimations\"); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_2 = i1.ɵnov(_v, 4).inline; var currVal_3 = (((i1.ɵnov(_v, 4).color !== \"primary\") && (i1.ɵnov(_v, 4).color !== \"accent\")) && (i1.ɵnov(_v, 4).color !== \"warn\")); _ck(_v, 3, 0, currVal_2, currVal_3); }); }\nfunction View_VideoChannelComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 12, \"div\", [[\"class\", \"bottom-peer-block\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, \"button\", [[\"class\", \"bottom-peer-video\"], [\"mat-mini-fab\", \"\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], null, null, i7.View_MatButton_0, i7.RenderType_MatButton)), i1.ɵdid(2, 180224, null, 0, i8.MatButton, [i1.ElementRef, i5.FocusMonitor, [2, i6.ANIMATION_MODULE_TYPE]], null, null), (_l()(), i1.ɵeld(3, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"video-img mat-icon notranslate\"], [\"role\", \"img\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.clickIcon(0) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(4, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), (_l()(), i1.ɵeld(5, 0, null, null, 3, \"button\", [[\"mat-mini-fab\", \"\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], null, null, i7.View_MatButton_0, i7.RenderType_MatButton)), i1.ɵdid(6, 180224, null, 0, i8.MatButton, [i1.ElementRef, i5.FocusMonitor, [2, i6.ANIMATION_MODULE_TYPE]], null, null), (_l()(), i1.ɵeld(7, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"mat-icon notranslate\"], [\"role\", \"img\"], [\"svgIcon\", \"phone-hangup\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], null, null, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(8, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null), (_l()(), i1.ɵeld(9, 0, null, null, 3, \"button\", [[\"class\", \"bottom-peer-audio\"], [\"mat-mini-fab\", \"\"]], [[1, \"disabled\", 0], [2, \"_mat-animation-noopable\", null]], null, null, i7.View_MatButton_0, i7.RenderType_MatButton)), i1.ɵdid(10, 180224, null, 0, i8.MatButton, [i1.ElementRef, i5.FocusMonitor, [2, i6.ANIMATION_MODULE_TYPE]], null, null), (_l()(), i1.ɵeld(11, 0, null, 0, 1, \"mat-icon\", [[\"class\", \"microphone-img mat-icon notranslate\"], [\"role\", \"img\"]], [[2, \"mat-icon-inline\", null], [2, \"mat-icon-no-color\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.clickIcon(1) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i2.View_MatIcon_0, i2.RenderType_MatIcon)), i1.ɵdid(12, 9158656, null, 0, i3.MatIcon, [i1.ElementRef, i3.MatIconRegistry, [8, null], [2, i3.MAT_ICON_LOCATION], [2, i1.ErrorHandler]], { svgIcon: [0, \"svgIcon\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_4 = _co.bottomVideo; _ck(_v, 4, 0, currVal_4); var currVal_9 = \"phone-hangup\"; _ck(_v, 8, 0, currVal_9); var currVal_14 = _co.bottomAudio; _ck(_v, 12, 0, currVal_14); }, function (_ck, _v) { var currVal_0 = (i1.ɵnov(_v, 2).disabled || null); var currVal_1 = (i1.ɵnov(_v, 2)._animationMode === \"NoopAnimations\"); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_2 = i1.ɵnov(_v, 4).inline; var currVal_3 = (((i1.ɵnov(_v, 4).color !== \"primary\") && (i1.ɵnov(_v, 4).color !== \"accent\")) && (i1.ɵnov(_v, 4).color !== \"warn\")); _ck(_v, 3, 0, currVal_2, currVal_3); var currVal_5 = (i1.ɵnov(_v, 6).disabled || null); var currVal_6 = (i1.ɵnov(_v, 6)._animationMode === \"NoopAnimations\"); _ck(_v, 5, 0, currVal_5, currVal_6); var currVal_7 = i1.ɵnov(_v, 8).inline; var currVal_8 = (((i1.ɵnov(_v, 8).color !== \"primary\") && (i1.ɵnov(_v, 8).color !== \"accent\")) && (i1.ɵnov(_v, 8).color !== \"warn\")); _ck(_v, 7, 0, currVal_7, currVal_8); var currVal_10 = (i1.ɵnov(_v, 10).disabled || null); var currVal_11 = (i1.ɵnov(_v, 10)._animationMode === \"NoopAnimations\"); _ck(_v, 9, 0, currVal_10, currVal_11); var currVal_12 = i1.ɵnov(_v, 12).inline; var currVal_13 = (((i1.ɵnov(_v, 12).color !== \"primary\") && (i1.ɵnov(_v, 12).color !== \"accent\")) && (i1.ɵnov(_v, 12).color !== \"warn\")); _ck(_v, 11, 0, currVal_12, currVal_13); }); }\nexport function View_VideoChannelComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 26, \"div\", [[\"class\", \"video-container\"]], null, null, null, null, null)), i1.ɵprd(512, null, i9.ɵNgClassImpl, i9.ɵNgClassR2Impl, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2]), i1.ɵdid(2, 278528, null, 0, i9.NgClass, [i9.ɵNgClassImpl], { klass: [0, \"klass\"], ngClass: [1, \"ngClass\"] }, null), (_l()(), i1.ɵeld(3, 0, null, null, 9, \"mat-toolbar\", [[\"class\", \"top-toolbar mat-toolbar\"]], [[2, \"mat-toolbar-multiple-rows\", null], [2, \"mat-toolbar-single-row\", null]], null, null, i10.View_MatToolbar_0, i10.RenderType_MatToolbar)), i1.ɵdid(4, 4243456, null, 1, i11.MatToolbar, [i1.ElementRef, i12.Platform, i9.DOCUMENT], null, null), i1.ɵqud(603979776, 1, { _toolbarRows: 1 }), (_l()(), i1.ɵeld(6, 0, null, 0, 2, \"app-contact\", [], null, null, null, i13.View_ContactComponent_0, i13.RenderType_ContactComponent)), i1.ɵdid(7, 114688, null, 0, i14.ContactComponent, [i1.ChangeDetectorRef, i15.AppContextService, i1.PLATFORM_ID], { context: [0, \"context\"] }, null), i1.ɵpid(131072, i9.AsyncPipe, [i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, 0, 1, null, View_VideoChannelComponent_1)), i1.ɵdid(10, 16384, null, 0, i9.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, 0, 1, null, View_VideoChannelComponent_2)), i1.ɵdid(12, 16384, null, 0, i9.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵeld(13, 0, null, null, 4, \"div\", [[\"class\", \"main-video-container\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(14, 0, [[\"videoElement\", 1]], null, 3, \"video\", [[\"autoplay\", \"\"], [\"class\", \"video-element\"], [\"playsinline\", \"\"]], [[8, \"srcObject\", 0]], [[null, \"loadeddata\"], [null, \"ended\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"loadeddata\" === en)) {\n        var pd_0 = (_co.onLoadedData() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"ended\" === en)) {\n        var pd_1 = (_co.onEnded() !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, null, null)), i1.ɵprd(512, null, i9.ɵNgClassImpl, i9.ɵNgClassR2Impl, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2]), i1.ɵdid(16, 278528, null, 0, i9.NgClass, [i9.ɵNgClassImpl], { klass: [0, \"klass\"], ngClass: [1, \"ngClass\"] }, null), i1.ɵpid(131072, i9.AsyncPipe, [i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(18, 0, null, null, 8, \"mat-toolbar\", [[\"class\", \"bottom-toolbar mat-toolbar\"]], [[2, \"mat-toolbar-multiple-rows\", null], [2, \"mat-toolbar-single-row\", null]], null, null, i10.View_MatToolbar_0, i10.RenderType_MatToolbar)), i1.ɵprd(512, null, i9.ɵNgClassImpl, i9.ɵNgClassR2Impl, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2]), i1.ɵdid(20, 278528, null, 0, i9.NgClass, [i9.ɵNgClassImpl], { klass: [0, \"klass\"], ngClass: [1, \"ngClass\"] }, null), i1.ɵdid(21, 4243456, null, 1, i11.MatToolbar, [i1.ElementRef, i12.Platform, i9.DOCUMENT], null, null), i1.ɵqud(603979776, 2, { _toolbarRows: 1 }), (_l()(), i1.ɵand(16777216, null, 0, 1, null, View_VideoChannelComponent_3)), i1.ɵdid(24, 16384, null, 0, i9.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, 0, 1, null, View_VideoChannelComponent_4)), i1.ɵdid(26, 16384, null, 0, i9.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = \"video-container\"; var currVal_1 = _co.videoContext.className; _ck(_v, 2, 0, currVal_0, currVal_1); var currVal_4 = i1.ɵunv(_v, 7, 0, i1.ɵnov(_v, 8).transform(_co.videoContext.contact)); _ck(_v, 7, 0, currVal_4); var currVal_5 = _co.videoContext.local; _ck(_v, 10, 0, currVal_5); var currVal_6 = !_co.videoContext.local; _ck(_v, 12, 0, currVal_6); var currVal_8 = \"video-element\"; var currVal_9 = _co.videoContext.className; _ck(_v, 16, 0, currVal_8, currVal_9); var currVal_12 = \"bottom-toolbar\"; var currVal_13 = _co.videoContext.className; _ck(_v, 20, 0, currVal_12, currVal_13); var currVal_14 = !_co.videoContext.local; _ck(_v, 24, 0, currVal_14); var currVal_15 = _co.videoContext.local; _ck(_v, 26, 0, currVal_15); }, function (_ck, _v) { var _co = _v.component; var currVal_2 = (i1.ɵnov(_v, 4)._toolbarRows.length > 0); var currVal_3 = (i1.ɵnov(_v, 4)._toolbarRows.length === 0); _ck(_v, 3, 0, currVal_2, currVal_3); var currVal_7 = i1.ɵunv(_v, 14, 0, i1.ɵnov(_v, 17).transform(_co.videoContext.stream)); _ck(_v, 14, 0, currVal_7); var currVal_10 = (i1.ɵnov(_v, 21)._toolbarRows.length > 0); var currVal_11 = (i1.ɵnov(_v, 21)._toolbarRows.length === 0); _ck(_v, 18, 0, currVal_10, currVal_11); }); }\nexport function View_VideoChannelComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-video-channel\", [], null, null, null, View_VideoChannelComponent_0, RenderType_VideoChannelComponent)), i1.ɵdid(1, 245760, null, 0, i16.VideoChannelComponent, [i15.AppContextService], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar VideoChannelComponentNgFactory = i1.ɵccf(\"app-video-channel\", i16.VideoChannelComponent, View_VideoChannelComponent_Host_0, { videoContext: \"videoContext\" }, {}, []);\nexport { VideoChannelComponentNgFactory as VideoChannelComponentNgFactory };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".video-container[_ngcontent-%COMP%]{position:relative;height:100%}.top-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;background:0 0;display:flex;align-items:center;justify-content:space-between;z-index:2}.top-local-block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.bottom-peer-block[_ngcontent-%COMP%]{width:160px;display:flex;justify-content:space-between;align-items:center}.bottom-peer-audio[_ngcontent-%COMP%], .bottom-peer-video[_ngcontent-%COMP%]{background-color:transparent!important}.main-video-container[_ngcontent-%COMP%]{height:100%}video.video-element[_ngcontent-%COMP%]{position:relative;z-index:0;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%;border:0 solid #cecece}.bottom-toolbar[_ngcontent-%COMP%]{background:0 0;position:absolute;bottom:0;display:flex;justify-content:center}\"];\nexport { styles as styles };\n","<div class=\"video-container\" [ngClass]=\"videoContext.className\">\n\t<mat-toolbar class=\"top-toolbar\">\n\t\t<app-contact [context]=\"videoContext.contact | async\"></app-contact>\n\t\t<div class=\"top-local-block\" *ngIf=\"videoContext.local\">\n\t\t\t<mat-icon svgIcon=\"notifications\" [matBadge]=\"this.appContext.notifications.length > 0 ? this.appContext.notifications.length + '' : '' \" [matBadgeColor]=\"'accent'\" matBadgeSize=\"small\"></mat-icon>\n\t\t</div>\n\t\t<div class=\"top-peer-block\" *ngIf=\"!videoContext.local\">\n\t\t\t<mat-icon  [svgIcon]=\"topPeerVideoImg\" class=\"video-peer-img\" ></mat-icon>\n\t\t\t<mat-icon [svgIcon]=\"topPeerAudioImg\" class=\"microphone-peer-img\" ></mat-icon>\n\t\t</div>\n\t</mat-toolbar>\n\t<div class=\"main-video-container\">\n\t\t<video #videoElement class=\"video-element\" (loadeddata)=\"onLoadedData()\" [ngClass]=\"videoContext.className\" (ended)=\"onEnded()\" [srcObject]=\"videoContext.stream | async\"  autoplay playsinline ></video>\n\t</div>\n\t<mat-toolbar class=\"bottom-toolbar\" [ngClass]=\"videoContext.className\">\n\t\t<div class=\"bottom-local-block\" *ngIf=\"!videoContext.local\">\n\t\t\t<button mat-fab>\n\t\t\t\t<mat-icon svgIcon=\"phone-hangup\"></mat-icon>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class=\"bottom-peer-block\" *ngIf=\"videoContext.local\">\n\t\t\t<button mat-mini-fab class=\"bottom-peer-video\">\n\t\t\t\t<mat-icon  [svgIcon]=\"bottomVideo\" class=\"video-img\" (click)=\"clickIcon(0)\"></mat-icon>\n\t\t\t</button>\n\t\t\t<button mat-mini-fab>\n\t\t\t\t<mat-icon svgIcon=\"phone-hangup\"></mat-icon>\n\t\t\t</button>\n\t\t\t<button mat-mini-fab class=\"bottom-peer-audio\">\n\t\t\t\t<mat-icon [svgIcon]=\"bottomAudio\" class=\"microphone-img\" (click)=\"clickIcon(1)\"></mat-icon>\n\t\t\t</button>\n\t\t</div>\n\t</mat-toolbar>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {WebRtcContext} from \"../../../../Classes/Classes\";\n\n@Component({\n  selector: 'app-web-rtc-context',\n  templateUrl: './web-rtc-context.component.html',\n  styleUrls: ['./web-rtc-context.component.css']\n})\nexport class WebRtcContextComponent implements OnInit {\n\n    @Input() public context : WebRtcContext;\n    \n    constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./web-rtc-context.component.css.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"../video-channel/video-channel.component.ngfactory\";\nimport * as i3 from \"../video-channel/video-channel.component\";\nimport * as i4 from \"../../../../services/app-context.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"./web-rtc-context.component\";\nvar styles_WebRtcContextComponent = [i0.styles];\nvar RenderType_WebRtcContextComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_WebRtcContextComponent, data: {} });\nexport { RenderType_WebRtcContextComponent as RenderType_WebRtcContextComponent };\nfunction View_WebRtcContextComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-video-channel\", [], null, null, null, i2.View_VideoChannelComponent_0, i2.RenderType_VideoChannelComponent)), i1.ɵdid(1, 245760, null, 0, i3.VideoChannelComponent, [i4.AppContextService], { videoContext: [0, \"videoContext\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit; _ck(_v, 1, 0, currVal_0); }, null); }\nexport function View_WebRtcContextComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, \"div\", [[\"class\", \"web-rtc-context-container\"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_WebRtcContextComponent_1)), i1.ɵdid(2, 278528, null, 0, i5.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.context.videoCollection; _ck(_v, 2, 0, currVal_0); }, null); }\nexport function View_WebRtcContextComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-web-rtc-context\", [], null, null, null, View_WebRtcContextComponent_0, RenderType_WebRtcContextComponent)), i1.ɵdid(1, 114688, null, 0, i6.WebRtcContextComponent, [], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar WebRtcContextComponentNgFactory = i1.ɵccf(\"app-web-rtc-context\", i6.WebRtcContextComponent, View_WebRtcContextComponent_Host_0, { context: \"context\" }, {}, []);\nexport { WebRtcContextComponentNgFactory as WebRtcContextComponentNgFactory };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".web-rtc-context-container[_ngcontent-%COMP%]{height:100%}\"];\nexport { styles as styles };\n","<div class=\"web-rtc-context-container\">\n\t<app-video-channel *ngFor=\"let video of context.videoCollection\" [videoContext]=\"video\"></app-video-channel>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {AppContextService} from \"../../../services/app-context.service\";\nimport {NavigationStart, Router, RouterEvent} from \"@angular/router\";\nimport {filter} from \"rxjs/operators\";\nimport {Answer, Candidate, Offer, VideoContext, WebRtcConnectionContext} from \"../../../Classes/Classes\";\nimport {BehaviorSubject, Subject} from \"rxjs\";\nimport {WebRtcService} from \"../../../services/web-rtc.service\";\nimport {DatabaseService} from \"../../../services/database.service\";\nimport {StatusColorsService} from \"../../../services/status-colors.service\";\ndeclare var SimplePeer: import('simple-peer').SimplePeer;\n\n\n@Component({\n  selector: 'app-web-rtc',\n  templateUrl: './web-rtc.component.html',\n  styleUrls: ['./web-rtc.component.css']\n})\nexport class WebRtcComponent implements OnInit {\n    \n    //Получение настроек\n    public duplicateCall = JSON.parse(window.localStorage.getItem('duplicateCall'));\n    public optimizeCall =  JSON.parse(window.localStorage.getItem('optimizeCall'));\n    public video = JSON.parse(window.localStorage.getItem('videoinput'));\n    public micro = JSON.parse(window.localStorage.getItem('audioinput'));\n    public audio = JSON.parse(window.localStorage.getItem('audiooutput'));\n    //Установка ограничений\n    public constraints = {\n\taudio: {deviceId: (this.audio && this.audio.deviceId ? this.audio.deviceId : false) , volume : 1.0},\n\tvideo: {deviceId: (this.video && this.video.deviceId  ? this.video.deviceId : false)}\n    };\n\n  constructor(\n      public router : Router,\n      public webRtcService : WebRtcService,\n      public appContext : AppContextService,\n      public database : DatabaseService,\n      public statusColor : StatusColorsService,\n      ) { }\n\n  ngOnInit() {\n      //Подписка на события запуска нового маршрута для определения повторного запуска\n      //компонента и создания компонента контекста\n      this.router.events.pipe(filter((event: RouterEvent) => event instanceof NavigationStart)).subscribe((event) => {\n\t  //анализирование  event.url\n      });\n      this.startConnections();\n  }\n  //Обработчик ответов и неявных предложений\n  handleDescriptor(desc){\n  \n  }\n  \n  async startConnections(){\n    \n      let webRtcContext = this.appContext.webRtcContexts.getContext(this.appContext.contextId);\n      if(!webRtcContext) return ;\n      let initiator = webRtcContext.uid === this.appContext.appUser.uid;\n      webRtcContext.localStream = await navigator.mediaDevices.getUserMedia(this.constraints);\n      let messageContacts = [webRtcContext.sender].concat(webRtcContext.receivers.value);\n      if(messageContacts){\n\t  //Находим индекс локального пользователя\n\t  let localIndex = messageContacts.findIndex(contact => contact.uid === this.appContext.user.value.uid);\n\t  //Запуск всех потоков для каждого контакта\n\t  messageContacts.forEach((contact, contactIndex)=> {\n\t      let local = this.appContext.appUser.uid === contact.uid,\n\t\t  webRtcConnectionContext : WebRtcConnectionContext = webRtcContext.webRtcConnections[contact.uid] = new WebRtcConnectionContext({uid : contact.uid});\n\t      webRtcConnectionContext.webRtcContext = webRtcContext;\n\t      webRtcConnectionContext.uid = contact.uid;\n\t      //Видеоконтекст для каждого контакта\n\t      webRtcConnectionContext.videoContext = new VideoContext({\n\t\t  webRtcUid : webRtcContext.uid,\n\t\t  contact : new BehaviorSubject(local ? this.appContext.appUser : contact),\n\t\t  className : local ? {[contact.uid + ' local video-context'] : true, active : false, fixed : false, pulse : initiator} : {[contact.uid + ' remote video-context'] : true, active : false, pulse : false},\n\t\t  stream :  new BehaviorSubject( local ? webRtcContext.localStream : undefined),\n\t\t  local : local,\n\t\t  dataChannel : {data : new Subject(), send : undefined},\n\t      });\n\t      webRtcContext.videoCollection.push(webRtcConnectionContext.videoContext);\n\t      //Если выполняется не локальный пользователь\n\t      if(!local /*&& (contact.uid === webRtcContext.uid || localIndex < contactIndex )*/) {\n\t\t  //Запуск соединения\n\t\t  webRtcConnectionContext.pcConnection = new SimplePeer({\n\t\t      //контакт имеет индекс больше индекса локального пользователя в коллекции контактов или обрабатывается инициатор вызова, тогда ставиться признак инициатора для генерирования предложения\n\t\t      initiator : initiator || contact.uid === webRtcContext.uid || localIndex < contactIndex,\n\t\t      channelName : contact.uid,\n\t\t      //Если соединение формируется для явного предложения, тогда свойство берется из настроек, иначе - из явного предложения\n\t\t      config : this.appContext.stunTurnConfig[ initiator ? window.localStorage.getItem('stunTurn') : webRtcContext.desc.stun ],\n\t\t      stream : webRtcContext.localStream,\n\t\t  });\n\t\t  //Установка ссылки на функцию отправки сообщений, чтобы контекст мог их отправлять\n\t\t  webRtcConnectionContext.videoContext.dataChannel.send = webRtcConnectionContext.pcConnection.send;\n\t\t  //Вызывается при генерации предложений, ответов, кандидатов\n\t\t  webRtcConnectionContext.pcConnection.on('signal', async (data)=> {\n\t\t      //Проанализировать настройку оптимизации соединения,\n\t\t      //предложение или ответ ждет формирование кандидатов и отправляются на сервер в одной упаковке\n\t\t      if(data.type){\n\t\t\t  if(data.type === 'offer') {\n\t\t\t      webRtcConnectionContext.offer = new Offer({\n\t\t\t\t  type: initiator ? 'offer' : 'implicit-offer',\n\t\t\t\t  action: 'offered',\n\t\t\t\t  contact: contact,\n\t\t\t\t  uid: this.appContext.appUser.uid,\n\t\t\t\t  webRtcUid: webRtcContext.uid,\n\t\t\t\t  receivers: initiator ? webRtcContext.receivers.value : [contact],\n\t\t\t\t  sender: this.appContext.appUser,\n\t\t\t\t  stun: initiator ? window.localStorage.getItem('stunTurn') : webRtcContext.desc.stun,\n\t\t\t\t  desc: JSON.stringify(data),\n\t\t\t\t  optimize: initiator ? JSON.parse(window.localStorage.getItem('optimizeCall')) : webRtcContext.desc.optimize,\n\t\t\t      })\n\t\t\t  }\n\t\t\t  else if(data.type === 'answer'){\n\t\t\t\n\t\t\t      webRtcConnectionContext.answer = new Answer({\n\t\t\t\t  type : 'answer',\n\t\t\t\t  active : true,\n\t\t\t\t  contact : contact,\n\t\t\t\t  uid :  webRtcContext.desc.uid,\n\t\t\t\t  webRtcUid : webRtcContext.uid,\n\t\t\t\t  receivers : [webRtcContext.sender],\n\t\t\t\t  sender : this.appContext.appUser,\n\t\t\t\t  desc : JSON.stringify(data),\n\t\t\t\t  optimize :  webRtcContext.desc.optimize,\n\t\t\t      });\n\t\t\t  }\n\t\t   \n\t\t\t  //Если соединение не оптимизированно, тогда не ждать кандидатов - отправить предложение\n\t\t\t  let desc = webRtcConnectionContext.offer || webRtcConnectionContext.answer;\n\t\t\t  desc.optimize ||  await this.database.sendDescriptor(desc);\n\t\t    \n\t\t      }else if(data.candidate){\n\t\t\t  //Сборка кандидатов\n\t\t\t  let descriptor = webRtcConnectionContext.offer || webRtcConnectionContext.answer,\n\t\t\t      candidate = new Candidate({\n\t\t\t\t  webRtcUid : descriptor.webRtcUid,\n\t\t\t\t  contact : contact,\n\t\t\t\t  date : Date.now(),\n\t\t\t\t  sender : this.appContext.user.value,\n\t\t\t\t  descId : descriptor.messId,\n\t\t\t\t  type: 'candidates',\n\t\t\t\t  desc: JSON.stringify(data.candidate),\n\t\t\t\t  active : true,\n\t\t\t\t  optimize : descriptor.optimize,\n\t\t\t      });\n\t\t\t  //Проверка на опитимизацию соединения\n\t\t\t  if(descriptor.optimize) descriptor.candidates.push(candidate) ;\n\t\t\t  else this.database.sendDescriptor(candidate).catch(this.onError);\n\t\t      }\n\t\t  });\n\t\t  //Установка обработчика на изменения статуса сборки кандидатов\n\t\t  webRtcConnectionContext.pcConnection._pc.addEventListener('icegatheringstatechange', (event: any)=>{\n\t\t      //Завершилась сборка кандидатов\n\t\t      if(event.target.iceGatheringState === 'complete'){\n\t\t\t  //Сборка завершена\n\t\t\t  let desc : Offer | Answer = (webRtcConnectionContext.offer || webRtcConnectionContext.answer);\n\t\t\t  if(desc.optimize){\n\t\t\t      if(desc.candidates.length){\n\t\t\t\t  //Отправка дескриптора (offer/answer) на сервер\n\t\t\t\t  this.database.sendDescriptor(desc).then(()=> {\n\t\t\t\t      console.log('Сборка кандидатов завершена. Кандидаты отправлены.') ;\n\t\t\t\t  }).catch(this.onError);\n\t\t\t      }else{\n\t\t\t\t  this.onError('Сбой отправки кандидатов в событии icegatheringstatechange.');\n\t\t\t\t  //TODO определить отображение сбоев несовместимости браузеров пользователю.\n\t\t\t\t  this.setAnnouncement({type : 'incompatibilityFailure'  , desc : {text : 'Сбой несовместимости.'}});\n\t\t\t      }\n\t\t\t  }\n\t\t      }\n\t\t  }) ;\n\t   \n\t\t  //Установка обработчика на изменение статуса соединения для установки пользовательской индикации\n\t\t  webRtcConnectionContext.pcConnection._pc.addEventListener('connectionstatechange', (event: any)=>{\n\t\t      let contact = webRtcConnectionContext.videoContext.contact.value;\n\t\t      contact.statusColor = this.statusColor.statusColors.webrtc.perConnectionStates[event.type];\n\t\t      webRtcConnectionContext.videoContext.contact.next(contact);\n\t\t  }) ;\n\t   \n\t\t  //обработчик установки готовности соединения передачи данных по каналу данных\n\t\t  webRtcConnectionContext.pcConnection.on('connect', () => {\n\t\t      //Передать информацию о включенных аппаратных средствах\n\t\t      webRtcConnectionContext.pcConnection.send({type : 'settings', video : true, audio : true});\n\t\t  });\n\t\t  //Обработчик получения данных по канаду данных\n\t\t  webRtcConnectionContext.pcConnection.on('data', (data : any) => {\n\t\t      //Обработка данных активности , закрытие соединения и пр. удаленного пира\n\t\t      webRtcConnectionContext.videoContext.dataChannel.data.next(data);\n\t\t  });\n\t\t  //Обработка получения удаленного потока\n\t\t  webRtcConnectionContext.pcConnection.on('stream', stream => {\n\t\t      webRtcConnectionContext.videoContext.stream.next(stream);\n\t\t  });\n\t\t  //Удаленный пир закрыл соединение\n\t\t  webRtcConnectionContext.pcConnection.on('close', () => {}) ;\n\t\t  //Ошибка в соединениии\n\t\t  webRtcConnectionContext.pcConnection.on('error', (err) => {});\n\t\t  //Установка удаленного дескриптора - явного предложения\n\t\t  if(!initiator && contactIndex === 0){\n\t\t\tthis.setDescriptor(webRtcConnectionContext.pcConnection, webRtcContext.desc);\n\t\t  }\n\t      }\n\t  })\n      }\n      //Если пользователь при старте компонента не является инициатором, тогда необходимо установить\n      //обработчики получения неявных предложений ПОСЛЕ СОЗДАНИЯ ВСЕХ СОЕДИНЕНИЙ\n      initiator || this.setImplicitListeners();\n      this.appContext.appChangeRef.markForCheck();\n  }\n  \n  setDescriptor(pcConnection, desc){\n      //Установить явное предложение\n      pcConnection.signal(JSON.parse(desc.desc));\n      //Проверить кандидаты\n      //todo Обязательно! В этом месте, т.е. после установления удаленного дескриптора, и после\n      // установки локального потока, нужно установить СИНХРОННО удаленные кандидаты\n      //Установка/проверка кандидатов\n      desc.type !== 'candidates' && (async ()=> {\n\t  await this.checkCandidates(desc, pcConnection);\n      })();\n  }\n  \n  //Запос кандидатов с сервера\n    requestCandidates(desc, func){\n\tthis.database.database.ref(`/web-rtc/candidates/${this.appContext.user.value.uid}`).orderByChild('descId').equalTo(desc.messId).once('value').then(res => {\n\t    let val = res.val();\n\t    val && func.bind(this, val)();\n\t}).catch(this.onError);\n    }\n  \n    //Обработчик установки или запроса с установкой кандидатов, в зависимости от настроек оптимизации\n    checkCandidates(desc, pcConnection) {\n\treturn  new Promise((res, rej)=> {\n\t    if(desc.optimize){\n\t\tsetCandidates.bind(this, desc.candidates, res, rej)() ;\n\t    }else {\n\t\tthis.requestCandidates(desc, (candidates) => {\n\t\t    candidates && setCandidates.bind(this, Object.values(candidates),res, rej)() ;\n\t\t});\n\t    }\n\t});\n\tfunction setCandidates(candidates, res, rej){\n\t    candidates.forEach(async candidate => {\n\t\tpcConnection.signal(JSON.parse(candidate.desc));\n\t\t//Снятие активности дескриптора\n\t\tthis.database.setDescriptorOptions({descriptor: candidate, data: {active: false}}).catch(err => {\n\t\t\tconsole.log('Ошибка при снятии активности дескриптора в базе.')\n\t\t    });\n\t\t    //Удаление кандидата из базы после его получения\n\t\t    //await this.database.deleteDescriptor({descriptor : candidate});\n\t    }).catch(err => rej(err));\n\t    res();\n\t}\n\t//todo Обязательно! Реализовать функциональность снятие обработчиков получения кандидатов после завершения вызова\n    }\n    \n    setImplicitListeners(){\n\t\n    }\n    \n    //Установка уведомления на страницу Announcement.component\n    setAnnouncement(popup){\n\t//Коллекция элементов на странице уведомлений\n\tthis.appContext.announcements.next([popup].concat(this.appContext.announcements.value)) ;\n\tthis.appContext.appChangeRef.markForCheck();\n    }\n    \n    onError(error){\n\tconsole.log(error);\n    }\n  \n}\n","import * as tslib_1 from \"tslib\";\nimport { OnInit } from '@angular/core';\nimport { NavigationStart } from \"@angular/router\";\nimport { filter } from \"rxjs/operators\";\nimport { Answer, Candidate, Offer, VideoContext, WebRtcConnectionContext } from \"../../../Classes/Classes\";\nimport { BehaviorSubject, Subject } from \"rxjs\";\nexport class WebRtcComponent {\n    constructor(router, webRtcService, appContext, database, statusColor) {\n        this.router = router;\n        this.webRtcService = webRtcService;\n        this.appContext = appContext;\n        this.database = database;\n        this.statusColor = statusColor;\n        //Получение настроек\n        this.duplicateCall = JSON.parse(window.localStorage.getItem('duplicateCall'));\n        this.optimizeCall = JSON.parse(window.localStorage.getItem('optimizeCall'));\n        this.video = JSON.parse(window.localStorage.getItem('videoinput'));\n        this.micro = JSON.parse(window.localStorage.getItem('audioinput'));\n        this.audio = JSON.parse(window.localStorage.getItem('audiooutput'));\n        //Установка ограничений\n        this.constraints = {\n            audio: { deviceId: (this.audio && this.audio.deviceId ? this.audio.deviceId : false), volume: 1.0 },\n            video: { deviceId: (this.video && this.video.deviceId ? this.video.deviceId : false) }\n        };\n    }\n    ngOnInit() {\n        //Подписка на события запуска нового маршрута для определения повторного запуска\n        //компонента и создания компонента контекста\n        this.router.events.pipe(filter((event) => event instanceof NavigationStart)).subscribe((event) => {\n            //анализирование  event.url\n        });\n        this.startConnections();\n    }\n    //Обработчик ответов и неявных предложений\n    handleDescriptor(desc) {\n    }\n    startConnections() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let webRtcContext = this.appContext.webRtcContexts.getContext(this.appContext.contextId);\n            if (!webRtcContext)\n                return;\n            let initiator = webRtcContext.uid === this.appContext.appUser.uid;\n            webRtcContext.localStream = yield navigator.mediaDevices.getUserMedia(this.constraints);\n            let messageContacts = [webRtcContext.sender].concat(webRtcContext.receivers.value);\n            if (messageContacts) {\n                //Находим индекс локального пользователя\n                let localIndex = messageContacts.findIndex(contact => contact.uid === this.appContext.user.value.uid);\n                //Запуск всех потоков для каждого контакта\n                messageContacts.forEach((contact, contactIndex) => {\n                    let local = this.appContext.appUser.uid === contact.uid, webRtcConnectionContext = webRtcContext.webRtcConnections[contact.uid] = new WebRtcConnectionContext({ uid: contact.uid });\n                    webRtcConnectionContext.webRtcContext = webRtcContext;\n                    webRtcConnectionContext.uid = contact.uid;\n                    //Видеоконтекст для каждого контакта\n                    webRtcConnectionContext.videoContext = new VideoContext({\n                        webRtcUid: webRtcContext.uid,\n                        contact: new BehaviorSubject(local ? this.appContext.appUser : contact),\n                        className: local ? { [contact.uid + ' local video-context']: true, active: false, fixed: false, pulse: initiator } : { [contact.uid + ' remote video-context']: true, active: false, pulse: false },\n                        stream: new BehaviorSubject(local ? webRtcContext.localStream : undefined),\n                        local: local,\n                        dataChannel: { data: new Subject(), send: undefined },\n                    });\n                    webRtcContext.videoCollection.push(webRtcConnectionContext.videoContext);\n                    //Если выполняется не локальный пользователь\n                    if (!local /*&& (contact.uid === webRtcContext.uid || localIndex < contactIndex )*/) {\n                        //Запуск соединения\n                        webRtcConnectionContext.pcConnection = new SimplePeer({\n                            //контакт имеет индекс больше индекса локального пользователя в коллекции контактов или обрабатывается инициатор вызова, тогда ставиться признак инициатора для генерирования предложения\n                            initiator: initiator || contact.uid === webRtcContext.uid || localIndex < contactIndex,\n                            channelName: contact.uid,\n                            //Если соединение формируется для явного предложения, тогда свойство берется из настроек, иначе - из явного предложения\n                            config: this.appContext.stunTurnConfig[initiator ? window.localStorage.getItem('stunTurn') : webRtcContext.desc.stun],\n                            stream: webRtcContext.localStream,\n                        });\n                        //Установка ссылки на функцию отправки сообщений, чтобы контекст мог их отправлять\n                        webRtcConnectionContext.videoContext.dataChannel.send = webRtcConnectionContext.pcConnection.send;\n                        //Вызывается при генерации предложений, ответов, кандидатов\n                        webRtcConnectionContext.pcConnection.on('signal', (data) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                            //Проанализировать настройку оптимизации соединения,\n                            //предложение или ответ ждет формирование кандидатов и отправляются на сервер в одной упаковке\n                            if (data.type) {\n                                if (data.type === 'offer') {\n                                    webRtcConnectionContext.offer = new Offer({\n                                        type: initiator ? 'offer' : 'implicit-offer',\n                                        action: 'offered',\n                                        contact: contact,\n                                        uid: this.appContext.appUser.uid,\n                                        webRtcUid: webRtcContext.uid,\n                                        receivers: initiator ? webRtcContext.receivers.value : [contact],\n                                        sender: this.appContext.appUser,\n                                        stun: initiator ? window.localStorage.getItem('stunTurn') : webRtcContext.desc.stun,\n                                        desc: JSON.stringify(data),\n                                        optimize: initiator ? JSON.parse(window.localStorage.getItem('optimizeCall')) : webRtcContext.desc.optimize,\n                                    });\n                                }\n                                else if (data.type === 'answer') {\n                                    webRtcConnectionContext.answer = new Answer({\n                                        type: 'answer',\n                                        active: true,\n                                        contact: contact,\n                                        uid: webRtcContext.desc.uid,\n                                        webRtcUid: webRtcContext.uid,\n                                        receivers: [webRtcContext.sender],\n                                        sender: this.appContext.appUser,\n                                        desc: JSON.stringify(data),\n                                        optimize: webRtcContext.desc.optimize,\n                                    });\n                                }\n                                //Если соединение не оптимизированно, тогда не ждать кандидатов - отправить предложение\n                                let desc = webRtcConnectionContext.offer || webRtcConnectionContext.answer;\n                                desc.optimize || (yield this.database.sendDescriptor(desc));\n                            }\n                            else if (data.candidate) {\n                                //Сборка кандидатов\n                                let descriptor = webRtcConnectionContext.offer || webRtcConnectionContext.answer, candidate = new Candidate({\n                                    webRtcUid: descriptor.webRtcUid,\n                                    contact: contact,\n                                    date: Date.now(),\n                                    sender: this.appContext.user.value,\n                                    descId: descriptor.messId,\n                                    type: 'candidates',\n                                    desc: JSON.stringify(data.candidate),\n                                    active: true,\n                                    optimize: descriptor.optimize,\n                                });\n                                //Проверка на опитимизацию соединения\n                                if (descriptor.optimize)\n                                    descriptor.candidates.push(candidate);\n                                else\n                                    this.database.sendDescriptor(candidate).catch(this.onError);\n                            }\n                        }));\n                        //Установка обработчика на изменения статуса сборки кандидатов\n                        webRtcConnectionContext.pcConnection._pc.addEventListener('icegatheringstatechange', (event) => {\n                            //Завершилась сборка кандидатов\n                            if (event.target.iceGatheringState === 'complete') {\n                                //Сборка завершена\n                                let desc = (webRtcConnectionContext.offer || webRtcConnectionContext.answer);\n                                if (desc.optimize) {\n                                    if (desc.candidates.length) {\n                                        //Отправка дескриптора (offer/answer) на сервер\n                                        this.database.sendDescriptor(desc).then(() => {\n                                            console.log('Сборка кандидатов завершена. Кандидаты отправлены.');\n                                        }).catch(this.onError);\n                                    }\n                                    else {\n                                        this.onError('Сбой отправки кандидатов в событии icegatheringstatechange.');\n                                        //TODO определить отображение сбоев несовместимости браузеров пользователю.\n                                        this.setAnnouncement({ type: 'incompatibilityFailure', desc: { text: 'Сбой несовместимости.' } });\n                                    }\n                                }\n                            }\n                        });\n                        //Установка обработчика на изменение статуса соединения для установки пользовательской индикации\n                        webRtcConnectionContext.pcConnection._pc.addEventListener('connectionstatechange', (event) => {\n                            let contact = webRtcConnectionContext.videoContext.contact.value;\n                            contact.statusColor = this.statusColor.statusColors.webrtc.perConnectionStates[event.type];\n                            webRtcConnectionContext.videoContext.contact.next(contact);\n                        });\n                        //обработчик установки готовности соединения передачи данных по каналу данных\n                        webRtcConnectionContext.pcConnection.on('connect', () => {\n                            //Передать информацию о включенных аппаратных средствах\n                            webRtcConnectionContext.pcConnection.send({ type: 'settings', video: true, audio: true });\n                        });\n                        //Обработчик получения данных по канаду данных\n                        webRtcConnectionContext.pcConnection.on('data', (data) => {\n                            //Обработка данных активности , закрытие соединения и пр. удаленного пира\n                            webRtcConnectionContext.videoContext.dataChannel.data.next(data);\n                        });\n                        //Обработка получения удаленного потока\n                        webRtcConnectionContext.pcConnection.on('stream', stream => {\n                            webRtcConnectionContext.videoContext.stream.next(stream);\n                        });\n                        //Удаленный пир закрыл соединение\n                        webRtcConnectionContext.pcConnection.on('close', () => { });\n                        //Ошибка в соединениии\n                        webRtcConnectionContext.pcConnection.on('error', (err) => { });\n                        //Установка удаленного дескриптора - явного предложения\n                        if (!initiator && contactIndex === 0) {\n                            this.setDescriptor(webRtcConnectionContext.pcConnection, webRtcContext.desc);\n                        }\n                    }\n                });\n            }\n            //Если пользователь при старте компонента не является инициатором, тогда необходимо установить\n            //обработчики получения неявных предложений ПОСЛЕ СОЗДАНИЯ ВСЕХ СОЕДИНЕНИЙ\n            initiator || this.setImplicitListeners();\n            this.appContext.appChangeRef.markForCheck();\n        });\n    }\n    setDescriptor(pcConnection, desc) {\n        //Установить явное предложение\n        pcConnection.signal(JSON.parse(desc.desc));\n        //Проверить кандидаты\n        //todo Обязательно! В этом месте, т.е. после установления удаленного дескриптора, и после\n        // установки локального потока, нужно установить СИНХРОННО удаленные кандидаты\n        //Установка/проверка кандидатов\n        desc.type !== 'candidates' && (() => tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.checkCandidates(desc, pcConnection);\n        }))();\n    }\n    //Запос кандидатов с сервера\n    requestCandidates(desc, func) {\n        this.database.database.ref(`/web-rtc/candidates/${this.appContext.user.value.uid}`).orderByChild('descId').equalTo(desc.messId).once('value').then(res => {\n            let val = res.val();\n            val && func.bind(this, val)();\n        }).catch(this.onError);\n    }\n    //Обработчик установки или запроса с установкой кандидатов, в зависимости от настроек оптимизации\n    checkCandidates(desc, pcConnection) {\n        return new Promise((res, rej) => {\n            if (desc.optimize) {\n                setCandidates.bind(this, desc.candidates, res, rej)();\n            }\n            else {\n                this.requestCandidates(desc, (candidates) => {\n                    candidates && setCandidates.bind(this, Object.values(candidates), res, rej)();\n                });\n            }\n        });\n        function setCandidates(candidates, res, rej) {\n            candidates.forEach((candidate) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                pcConnection.signal(JSON.parse(candidate.desc));\n                //Снятие активности дескриптора\n                this.database.setDescriptorOptions({ descriptor: candidate, data: { active: false } }).catch(err => {\n                    console.log('Ошибка при снятии активности дескриптора в базе.');\n                });\n                //Удаление кандидата из базы после его получения\n                //await this.database.deleteDescriptor({descriptor : candidate});\n            })).catch(err => rej(err));\n            res();\n        }\n        //todo Обязательно! Реализовать функциональность снятие обработчиков получения кандидатов после завершения вызова\n    }\n    setImplicitListeners() {\n    }\n    //Установка уведомления на страницу Announcement.component\n    setAnnouncement(popup) {\n        //Коллекция элементов на странице уведомлений\n        this.appContext.announcements.next([popup].concat(this.appContext.announcements.value));\n        this.appContext.appChangeRef.markForCheck();\n    }\n    onError(error) {\n        console.log(error);\n    }\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./web-rtc.component.css.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"./web-rtc-context/web-rtc-context.component.ngfactory\";\nimport * as i3 from \"./web-rtc-context/web-rtc-context.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./web-rtc.component\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"../../../services/web-rtc.service\";\nimport * as i8 from \"../../../services/app-context.service\";\nimport * as i9 from \"../../../services/database.service\";\nimport * as i10 from \"../../../services/status-colors.service\";\nvar styles_WebRtcComponent = [i0.styles];\nvar RenderType_WebRtcComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_WebRtcComponent, data: {} });\nexport { RenderType_WebRtcComponent as RenderType_WebRtcComponent };\nfunction View_WebRtcComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-web-rtc-context\", [], null, null, null, i2.View_WebRtcContextComponent_0, i2.RenderType_WebRtcContextComponent)), i1.ɵdid(1, 114688, null, 0, i3.WebRtcContextComponent, [], { context: [0, \"context\"] }, null)], function (_ck, _v) { var currVal_0 = _v.context.$implicit; _ck(_v, 1, 0, currVal_0); }, null); }\nexport function View_WebRtcComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, \"div\", [[\"class\", \"web-rtc-component-container\"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 2, null, View_WebRtcComponent_1)), i1.ɵdid(2, 278528, null, 0, i4.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null), i1.ɵpid(131072, i4.AsyncPipe, [i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform(_co.appContext.webRtcContexts.contexts)); _ck(_v, 2, 0, currVal_0); }, null); }\nexport function View_WebRtcComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"app-web-rtc\", [], null, null, null, View_WebRtcComponent_0, RenderType_WebRtcComponent)), i1.ɵdid(1, 114688, null, 0, i5.WebRtcComponent, [i6.Router, i7.WebRtcService, i8.AppContextService, i9.DatabaseService, i10.StatusColorsService], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar WebRtcComponentNgFactory = i1.ɵccf(\"app-web-rtc\", i5.WebRtcComponent, View_WebRtcComponent_Host_0, {}, {}, []);\nexport { WebRtcComponentNgFactory as WebRtcComponentNgFactory };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".web-rtc-component-container[_ngcontent-%COMP%]{height:100%}\"];\nexport { styles as styles };\n","<div class=\"web-rtc-component-container\">\n  <app-web-rtc-context *ngFor=\"let webRtcContext of this.appContext.webRtcContexts.contexts | async\" [context]=\"webRtcContext\"></app-web-rtc-context>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {WebRtcComponent} from \"./web-rtc.component\";\n\n\nconst routes: Routes = [\n    {path : '', component : WebRtcComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class WebRtcRoutingModule { }\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./web-rtc.module\";\nimport * as i2 from \"../../../../../node_modules/@angular/router/router.ngfactory\";\nimport * as i3 from \"./web-rtc.component.ngfactory\";\nimport * as i4 from \"../../../../../node_modules/@angular/material/tooltip/typings/index.ngfactory\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/cdk/observers\";\nimport * as i7 from \"@angular/cdk/overlay\";\nimport * as i8 from \"@angular/cdk/bidi\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/tooltip\";\nimport * as i11 from \"@angular/platform-browser\";\nimport * as i12 from \"@angular/material/core\";\nimport * as i13 from \"@angular/material/menu\";\nimport * as i14 from \"@angular/material/autocomplete\";\nimport * as i15 from \"@angular/forms\";\nimport * as i16 from \"@angular/flex-layout/core\";\nimport * as i17 from \"@angular/router\";\nimport * as i18 from \"./web-rtc-routing.module\";\nimport * as i19 from \"@angular/material/toolbar\";\nimport * as i20 from \"@angular/material/icon\";\nimport * as i21 from \"@angular/material/card\";\nimport * as i22 from \"@angular/material/form-field\";\nimport * as i23 from \"@angular/cdk/portal\";\nimport * as i24 from \"@angular/cdk/platform\";\nimport * as i25 from \"@angular/cdk/scrolling\";\nimport * as i26 from \"@angular/cdk/a11y\";\nimport * as i27 from \"@angular/material/button\";\nimport * as i28 from \"@angular/cdk/text-field\";\nimport * as i29 from \"@angular/material/input\";\nimport * as i30 from \"@angular/material/progress-bar\";\nimport * as i31 from \"@angular/material/progress-spinner\";\nimport * as i32 from \"@angular/material/radio\";\nimport * as i33 from \"@angular/material/tabs\";\nimport * as i34 from \"@angular/material/badge\";\nimport * as i35 from \"@angular/material/button-toggle\";\nimport * as i36 from \"@angular/material/slide-toggle\";\nimport * as i37 from \"@angular/material/slider\";\nimport * as i38 from \"../../material/material.module\";\nimport * as i39 from \"@angular/flex-layout/flex\";\nimport * as i40 from \"@angular/flex-layout/extended\";\nimport * as i41 from \"@angular/flex-layout/grid\";\nimport * as i42 from \"@angular/flex-layout\";\nimport * as i43 from \"../../general/general.module\";\nimport * as i44 from \"./web-rtc.component\";\nvar WebRtcModuleNgFactory = i0.ɵcmf(i1.WebRtcModule, [], function (_l) { return i0.ɵmod([i0.ɵmpd(512, i0.ComponentFactoryResolver, i0.ɵCodegenComponentFactoryResolver, [[8, [i2.ɵangular_packages_router_router_lNgFactory, i3.WebRtcComponentNgFactory, i4.TooltipComponentNgFactory]], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.ɵmpd(4608, i5.NgLocalization, i5.NgLocaleLocalization, [i0.LOCALE_ID, [2, i5.ɵangular_packages_common_common_a]]), i0.ɵmpd(4608, i6.MutationObserverFactory, i6.MutationObserverFactory, []), i0.ɵmpd(4608, i7.Overlay, i7.Overlay, [i7.ScrollStrategyOptions, i7.OverlayContainer, i0.ComponentFactoryResolver, i7.OverlayPositionBuilder, i7.OverlayKeyboardDispatcher, i0.Injector, i0.NgZone, i5.DOCUMENT, i8.Directionality, [2, i5.Location]]), i0.ɵmpd(5120, i7.ɵc, i7.ɵd, [i7.Overlay]), i0.ɵmpd(5120, i9.MAT_SELECT_SCROLL_STRATEGY, i9.MAT_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY, [i7.Overlay]), i0.ɵmpd(5120, i10.MAT_TOOLTIP_SCROLL_STRATEGY, i10.MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY, [i7.Overlay]), i0.ɵmpd(4608, i11.HAMMER_GESTURE_CONFIG, i12.GestureConfig, [[2, i12.MAT_HAMMER_OPTIONS], [2, i12.MatCommonModule]]), i0.ɵmpd(4608, i12.ErrorStateMatcher, i12.ErrorStateMatcher, []), i0.ɵmpd(5120, i13.MAT_MENU_SCROLL_STRATEGY, i13.ɵb22, [i7.Overlay]), i0.ɵmpd(5120, i14.MAT_AUTOCOMPLETE_SCROLL_STRATEGY, i14.MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY, [i7.Overlay]), i0.ɵmpd(4608, i15.FormBuilder, i15.FormBuilder, []), i0.ɵmpd(4608, i15.ɵangular_packages_forms_forms_o, i15.ɵangular_packages_forms_forms_o, []), i0.ɵmpd(5120, i0.APP_BOOTSTRAP_LISTENER, function (p0_0, p0_1) { return [i16.removeStyles(p0_0, p0_1)]; }, [i5.DOCUMENT, i0.PLATFORM_ID]), i0.ɵmpd(1073742336, i5.CommonModule, i5.CommonModule, []), i0.ɵmpd(1073742336, i17.RouterModule, i17.RouterModule, [[2, i17.ɵangular_packages_router_router_a], [2, i17.Router]]), i0.ɵmpd(1073742336, i18.WebRtcRoutingModule, i18.WebRtcRoutingModule, []), i0.ɵmpd(1073742336, i8.BidiModule, i8.BidiModule, []), i0.ɵmpd(1073742336, i12.MatCommonModule, i12.MatCommonModule, [[2, i12.MATERIAL_SANITY_CHECKS], [2, i11.HAMMER_LOADER]]), i0.ɵmpd(1073742336, i19.MatToolbarModule, i19.MatToolbarModule, []), i0.ɵmpd(1073742336, i20.MatIconModule, i20.MatIconModule, []), i0.ɵmpd(1073742336, i21.MatCardModule, i21.MatCardModule, []), i0.ɵmpd(1073742336, i6.ObserversModule, i6.ObserversModule, []), i0.ɵmpd(1073742336, i22.MatFormFieldModule, i22.MatFormFieldModule, []), i0.ɵmpd(1073742336, i23.PortalModule, i23.PortalModule, []), i0.ɵmpd(1073742336, i24.PlatformModule, i24.PlatformModule, []), i0.ɵmpd(1073742336, i25.ScrollingModule, i25.ScrollingModule, []), i0.ɵmpd(1073742336, i7.OverlayModule, i7.OverlayModule, []), i0.ɵmpd(1073742336, i12.MatRippleModule, i12.MatRippleModule, []), i0.ɵmpd(1073742336, i12.MatPseudoCheckboxModule, i12.MatPseudoCheckboxModule, []), i0.ɵmpd(1073742336, i12.MatOptionModule, i12.MatOptionModule, []), i0.ɵmpd(1073742336, i9.MatSelectModule, i9.MatSelectModule, []), i0.ɵmpd(1073742336, i26.A11yModule, i26.A11yModule, []), i0.ɵmpd(1073742336, i10.MatTooltipModule, i10.MatTooltipModule, []), i0.ɵmpd(1073742336, i27.MatButtonModule, i27.MatButtonModule, []), i0.ɵmpd(1073742336, i28.TextFieldModule, i28.TextFieldModule, []), i0.ɵmpd(1073742336, i29.MatInputModule, i29.MatInputModule, []), i0.ɵmpd(1073742336, i30.MatProgressBarModule, i30.MatProgressBarModule, []), i0.ɵmpd(1073742336, i31.MatProgressSpinnerModule, i31.MatProgressSpinnerModule, []), i0.ɵmpd(1073742336, i32.MatRadioModule, i32.MatRadioModule, []), i0.ɵmpd(1073742336, i33.MatTabsModule, i33.MatTabsModule, []), i0.ɵmpd(1073742336, i34.MatBadgeModule, i34.MatBadgeModule, []), i0.ɵmpd(1073742336, i13._MatMenuDirectivesModule, i13._MatMenuDirectivesModule, []), i0.ɵmpd(1073742336, i13.MatMenuModule, i13.MatMenuModule, []), i0.ɵmpd(1073742336, i14.MatAutocompleteModule, i14.MatAutocompleteModule, []), i0.ɵmpd(1073742336, i35.MatButtonToggleModule, i35.MatButtonToggleModule, []), i0.ɵmpd(1073742336, i36._MatSlideToggleRequiredValidatorModule, i36._MatSlideToggleRequiredValidatorModule, []), i0.ɵmpd(1073742336, i36.MatSlideToggleModule, i36.MatSlideToggleModule, []), i0.ɵmpd(1073742336, i37.MatSliderModule, i37.MatSliderModule, []), i0.ɵmpd(1073742336, i38.MaterialModule, i38.MaterialModule, []), i0.ɵmpd(1073742336, i15.ɵangular_packages_forms_forms_d, i15.ɵangular_packages_forms_forms_d, []), i0.ɵmpd(1073742336, i15.ReactiveFormsModule, i15.ReactiveFormsModule, []), i0.ɵmpd(1073742336, i16.CoreModule, i16.CoreModule, []), i0.ɵmpd(1073742336, i39.FlexModule, i39.FlexModule, []), i0.ɵmpd(1073742336, i40.ExtendedModule, i40.ExtendedModule, []), i0.ɵmpd(1073742336, i41.GridModule, i41.GridModule, []), i0.ɵmpd(1073742336, i42.FlexLayoutModule, i42.FlexLayoutModule, [[2, i16.SERVER_TOKEN], i0.PLATFORM_ID]), i0.ɵmpd(1073742336, i43.GeneralModule, i43.GeneralModule, []), i0.ɵmpd(1073742336, i1.WebRtcModule, i1.WebRtcModule, []), i0.ɵmpd(1024, i17.ROUTES, function () { return [[{ path: \"\", component: i44.WebRtcComponent }]]; }, [])]); });\nexport { WebRtcModuleNgFactory as WebRtcModuleNgFactory };\n"]}