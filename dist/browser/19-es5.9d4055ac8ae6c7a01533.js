function _defineProperty(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function _arrayWithoutHoles(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{JSOT:function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),o=function n(){_classCallCheck(this,n)},a=t("pMnS"),i=t("SVse"),c=t("NvT6"),r=t("W5yJ"),u=t("/HVE"),s=t("omvX"),b=t("FbN9"),d=t("BzsH"),p=t("2/pp"),v=t("xQwi"),f=t("VYsW"),h=t("ZJFI"),m=t("Mr+X"),g=t("Gi4r"),A=function(){function n(e,t){_classCallCheck(this,n),this.videoPlayer=e,this.changeRef=t,this.icons={video:["video-off","video"],audio:["audio-off","audio"]},this.video=this.icons.video[1],this.audio=this.icons.audio[1]}return _createClass(n,[{key:"startVisual",value:function(){var n=this;Object.keys(this.context.visual).sort((function(n,e){return+n-+e})).forEach((function(e){var t=setTimeout((function(){var l=n.context.visual[e];n.video=n.icons.video[l.video],n.audio=n.icons.audio[l.audio],n.changeRef.detectChanges(),clearTimeout(t)}),+e-n.context.startTime)}))}},{key:"onLoadedData",value:function(){this.context.className.active=!0,this.context.visual&&this.startVisual(),this.changeRef.detectChanges()}},{key:"onEnded",value:function(){this.context.videoStart=this.context.className.active=!1,this.changeRef.detectChanges()}}]),n}(),C=function(){function n(e){var t=this;_classCallCheck(this,n),this.appContext=e,this.dataLoaded=!1,this.activeVideoBlocks=[];var l=Object.values(this.appContext.activeMessage.metadata),o=Math.min.apply(Math,_toConsumableArray(l.map((function(n){return n.startTime}))));this.videoMetadata=l.map((function(n){var e,l={startTime:n.startTime,visual:n.visual,videoStart:!1,src:n.downLoadedUrl,uid:n.uid,local:n.local,contact:n.local?t.appContext.activeMessage.sender:t.appContext.activeMessage.receivers.find((function(e){return e.uid===n.uid})),className:(e={local:n.local},_defineProperty(e,n.uid,!0),_defineProperty(e,"active",!1),_defineProperty(e,"fixed",!1),e),t:setTimeout((function(){l.videoStart=!0,clearTimeout(l.t),t.activeVideoBlocks.push(l),t.checkFixed(!0),t.appContext.appChangeRef.detectChanges()}),n.startTime-o)};return l}))}return _createClass(n,[{key:"checkFixed",value:function(n){this.activeVideoBlocks.length>1&&this.activeVideoBlocks.forEach((function(e){e.local&&(e.className.fixed=n)}))}},{key:"ngOnInit",value:function(){}}]),n}(),y=l.ob({encapsulation:0,styles:[["div.video-block-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;width:100%;height:100%}mat-spinner.video-block-spinner[_ngcontent-%COMP%]{position:absolute}.active-video-block[_ngcontent-%COMP%]{width:100%;height:100%}.video-block-toolbar[_ngcontent-%COMP%]{z-index:6;position:absolute;top:0;left:0;background:0 0;color:#fff}video.video-element[_ngcontent-%COMP%]{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}div.video-metadata-container.local.active.fixed[_nghost-%COMP%]     .contact-name, div.video-metadata-container.local.active.fixed   [_nghost-%COMP%]     .contact-name{display:none}"]],data:{}});function x(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,1,"mat-spinner",[["class","video-block-spinner mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,c.d,c.b)),l.pb(1,114688,null,0,r.d,[l.k,u.a,[2,i.d],[2,s.a],r.a],null,null)],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,l.Cb(e,1)._noopAnimations,l.Cb(e,1).diameter,l.Cb(e,1).diameter)}))}function k(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,11,"div",[["class","active-video-block"]],null,null,null,null,null)),(n()(),l.qb(1,0,null,null,9,"mat-toolbar",[["class","video-block-toolbar mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,b.b,b.a)),l.pb(2,4243456,null,1,d.a,[l.k,u.a,i.d],null,null),l.Hb(603979776,1,{_toolbarRows:1}),(n()(),l.qb(4,0,null,0,1,"app-contact",[],null,null,null,p.b,p.a)),l.pb(5,114688,null,0,v.a,[l.h,f.a,h.a,l.z],{context:[0,"context"]},null),(n()(),l.qb(6,0,null,0,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),l.qb(7,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.pb(8,9158656,null,0,g.b,[l.k,g.d,[8,null],[2,g.a],[2,l.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),l.qb(9,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),l.pb(10,9158656,null,0,g.b,[l.k,g.d,[8,null],[2,g.a],[2,l.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),l.qb(11,0,null,null,0,"video",[["autoplay",""],["class","video-element"],["playsinline",""]],[[8,"src",4]],[[null,"loadeddata"],[null,"ended"]],(function(n,e,t){var l=!0,o=n.component;return"loadeddata"===e&&(l=!1!==o.onLoadedData()&&l),"ended"===e&&(l=!1!==o.onEnded()&&l),l}),null,null))],(function(n,e){var t=e.component;n(e,5,0,t.context.contact),n(e,8,0,t.video),n(e,10,0,t.audio)}),(function(n,e){var t=e.component;n(e,1,0,l.Cb(e,2)._toolbarRows.length>0,0===l.Cb(e,2)._toolbarRows.length),n(e,7,0,l.Cb(e,8).inline,"primary"!==l.Cb(e,8).color&&"accent"!==l.Cb(e,8).color&&"warn"!==l.Cb(e,8).color),n(e,9,0,l.Cb(e,10).inline,"primary"!==l.Cb(e,10).color&&"accent"!==l.Cb(e,10).color&&"warn"!==l.Cb(e,10).color),n(e,11,0,t.context.src)}))}function _(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,4,"div",[["class","video-block-container"]],null,null,null,null,null)),(n()(),l.gb(16777216,null,null,1,null,x)),l.pb(2,16384,null,0,i.l,[l.N,l.K],{ngIf:[0,"ngIf"]},null),(n()(),l.gb(16777216,null,null,1,null,k)),l.pb(4,16384,null,0,i.l,[l.N,l.K],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,2,0,!t.context.className.active),n(e,4,0,t.context.videoStart)}),null)}var w=l.ob({encapsulation:0,styles:[["div.video-player-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}div.video-metadata-container[_ngcontent-%COMP%]{transition:all .3s;flex:1 1 0}div.video-metadata-container.local.active.fixed[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:200px;height:200px;z-index:5}@media (orientation:landscape){div.video-player-container[_ngcontent-%COMP%]{flex-direction:row}}@media (orientation:portrait){div.video-player-container[_ngcontent-%COMP%]{flex-direction:column}}"]],data:{}});function P(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,4,"div",[["class","video-metadata-container"]],null,null,null,null,null)),l.Gb(512,null,i.y,i.z,[l.q,l.r,l.k,l.C]),l.pb(2,278528,null,0,i.j,[i.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),l.qb(3,0,null,null,1,"app-video-block",[],null,null,null,_,y)),l.pb(4,49152,null,0,A,[C,l.h],{context:[0,"context"]},null)],(function(n,e){n(e,2,0,"video-metadata-container",e.context.$implicit.className),n(e,4,0,e.context.$implicit)}),null)}function O(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,2,"div",[["class","video-player-container"]],null,null,null,null,null)),(n()(),l.gb(16777216,null,null,1,null,P)),l.pb(2,278528,null,0,i.k,[l.N,l.K,l.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,2,0,e.component.videoMetadata)}),null)}var M=l.mb("app-video-player",C,(function(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,1,"app-video-player",[],null,null,null,O,w)),l.pb(1,114688,null,0,C,[f.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),j=t("NcP4"),q=t("POq0"),T=t("QQfA"),I=t("IP0z"),N=t("JjoW"),z=t("Mz6y"),L=t("cUpR"),R=t("Xd0L"),V=t("gavF"),S=t("/Co4"),F=t("s7LF"),J=t("/q54"),E=t("iInd"),W=function n(){_classCallCheck(this,n)},B=t("igqZ"),H=t("HsOI"),K=t("zMNK"),Z=t("hOhj"),D=t("5GAg"),G=t("Fwaw"),Q=t("oapL"),U=t("ZwOa"),X=t("8P0U"),Y=t("elxJ"),$=t("rWV4"),nn=t("KPQW"),en=t("mkRZ"),tn=t("pBi1"),ln=t("lT8R"),on=t("7of8"),an=t("VDRc"),cn=t("ura0"),rn=t("Nhcz"),un=t("u9T3"),sn=t("Gcy5");t.d(e,"VideoPlayerModuleNgFactory",(function(){return bn}));var bn=l.nb(o,[],(function(n){return l.zb([l.Ab(512,l.j,l.Z,[[8,[a.a,M,j.a]],[3,l.j],l.v]),l.Ab(4608,i.n,i.m,[l.s,[2,i.D]]),l.Ab(4608,q.c,q.c,[]),l.Ab(4608,T.c,T.c,[T.i,T.e,l.j,T.h,T.f,l.p,l.x,i.d,I.b,[2,i.h]]),l.Ab(5120,T.j,T.k,[T.c]),l.Ab(5120,N.a,N.b,[T.c]),l.Ab(5120,z.b,z.c,[T.c]),l.Ab(4608,L.e,R.c,[[2,R.g],[2,R.l]]),l.Ab(4608,R.b,R.b,[]),l.Ab(5120,V.a,V.d,[T.c]),l.Ab(5120,S.b,S.c,[T.c]),l.Ab(4608,F.e,F.e,[]),l.Ab(4608,F.w,F.w,[]),l.Ab(5120,l.b,(function(n,e){return[J.j(n,e)]}),[i.d,l.z]),l.Ab(1073742336,i.c,i.c,[]),l.Ab(1073742336,E.s,E.s,[[2,E.x],[2,E.o]]),l.Ab(1073742336,W,W,[]),l.Ab(1073742336,I.a,I.a,[]),l.Ab(1073742336,R.l,R.l,[[2,R.d],[2,L.f]]),l.Ab(1073742336,d.b,d.b,[]),l.Ab(1073742336,g.c,g.c,[]),l.Ab(1073742336,B.c,B.c,[]),l.Ab(1073742336,q.d,q.d,[]),l.Ab(1073742336,H.e,H.e,[]),l.Ab(1073742336,K.e,K.e,[]),l.Ab(1073742336,u.b,u.b,[]),l.Ab(1073742336,Z.b,Z.b,[]),l.Ab(1073742336,T.g,T.g,[]),l.Ab(1073742336,R.v,R.v,[]),l.Ab(1073742336,R.t,R.t,[]),l.Ab(1073742336,R.q,R.q,[]),l.Ab(1073742336,N.d,N.d,[]),l.Ab(1073742336,D.a,D.a,[]),l.Ab(1073742336,z.e,z.e,[]),l.Ab(1073742336,G.c,G.c,[]),l.Ab(1073742336,Q.c,Q.c,[]),l.Ab(1073742336,U.b,U.b,[]),l.Ab(1073742336,X.c,X.c,[]),l.Ab(1073742336,r.c,r.c,[]),l.Ab(1073742336,Y.d,Y.d,[]),l.Ab(1073742336,$.j,$.j,[]),l.Ab(1073742336,nn.b,nn.b,[]),l.Ab(1073742336,V.c,V.c,[]),l.Ab(1073742336,V.b,V.b,[]),l.Ab(1073742336,S.e,S.e,[]),l.Ab(1073742336,en.a,en.a,[]),l.Ab(1073742336,tn.d,tn.d,[]),l.Ab(1073742336,tn.c,tn.c,[]),l.Ab(1073742336,ln.a,ln.a,[]),l.Ab(1073742336,on.a,on.a,[]),l.Ab(1073742336,F.v,F.v,[]),l.Ab(1073742336,F.s,F.s,[]),l.Ab(1073742336,J.c,J.c,[]),l.Ab(1073742336,an.a,an.a,[]),l.Ab(1073742336,cn.c,cn.c,[]),l.Ab(1073742336,rn.a,rn.a,[]),l.Ab(1073742336,un.a,un.a,[[2,J.g],l.z]),l.Ab(1073742336,sn.a,sn.a,[]),l.Ab(1073742336,o,o,[]),l.Ab(1024,E.m,(function(){return[[{path:"",component:C}]]}),[])])}))}}]);
//# sourceMappingURL=19-es5.9d4055ac8ae6c7a01533.js.map