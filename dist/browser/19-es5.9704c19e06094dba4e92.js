function _defineProperty(n,e,l){return e in n?Object.defineProperty(n,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[e]=l,n}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function _arrayWithoutHoles(n){if(Array.isArray(n)){for(var e=0,l=new Array(n.length);e<n.length;e++)l[e]=n[e];return l}}function _defineProperties(n,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,l){return e&&_defineProperties(n.prototype,e),l&&_defineProperties(n,l),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{JSOT:function(n,e,l){"use strict";l.r(e);var t=l("8Y7J"),o=function n(){_classCallCheck(this,n)},a=l("pMnS"),i=l("SVse"),c=l("NvT6"),r=l("W5yJ"),s=l("/HVE"),u=l("omvX"),b=l("FbN9"),d=l("BzsH"),p=l("2/pp"),f=l("xQwi"),v=l("VYsW"),m=l("ZJFI"),h=l("Mr+X"),g=l("Gi4r"),A=function(){function n(e,l){_classCallCheck(this,n),this.videoPlayer=e,this.appContext=l,this.startBlock=!1,this.icons={video:["video-off","video"],audio:["audio-off","audio"]},this.video=this.icons.video[1],this.audio=this.icons.audio[1]}return _createClass(n,[{key:"ngOnInit",value:function(){this.context.className.active=!0}},{key:"startVisual",value:function(){var n=this;Object.keys(this.context.visual).sort((function(n,e){return+n-+e})).forEach((function(e){var l=setTimeout((function(){var t=n.context.visual[e];n.video=n.icons.video[t.video],n.audio=n.icons.audio[t.audio],n.appContext.appChangeRef.markForCheck(),clearTimeout(l)}),+e-n.context.startTime)}))}},{key:"onLoadedData",value:function(){this.startBlock=!0,this.context.visual&&this.startVisual(),this.appContext.appChangeRef.markForCheck()}},{key:"onEnded",value:function(){this.startBlock=this.context.className.fixed=this.context.className.active=!1,this.appContext.appChangeRef.markForCheck()}}]),n}(),C=function(){function n(e,l,t){_classCallCheck(this,n),this.appContext=e,this.sanitizer=l,this.route=t,this.dataLoaded=!1,this.activeVideoBlocks=[]}return _createClass(n,[{key:"checkFixed",value:function(){this.activeVideoBlocks.length>1&&this.activeVideoBlocks.forEach((function(n){n.local&&(n.className.fixed=!0)}))}},{key:"ngOnInit",value:function(){var n=this;this.route.data.subscribe((function(e){var l=Math.min.apply(Math,_toConsumableArray(Object.values(e.messageData.map((function(n){return n.mess.startTime})))));e.messageData.forEach((function(e){var t=setTimeout((function(){var l;n.activeVideoBlocks.push({startTime:e.mess.startTime,visual:e.mess.visual,src:n.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e.result)),uid:e.mess.uid,local:e.mess.local,contact:e.mess.local?n.appContext.activeMessage.sender:n.appContext.activeMessage.receivers.find((function(n){return n.uid===e.mess.uid})),className:(l={local:e.mess.local},_defineProperty(l,e.mess.uid,!0),_defineProperty(l,"false",!0),_defineProperty(l,"fixed",!1),l)}),n.checkFixed(),clearTimeout(t),n.appContext.appChangeRef.markForCheck()}),e.mess.startTime-l)}))}))}}]),n}(),k=t.ob({encapsulation:0,styles:[["div.video-block-container.local.active.fixed[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:200px;height:200px;z-index:5}div.video-block-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;width:100%;height:100%;position:relative;transition:all .3s}.active-video-block[_ngcontent-%COMP%]{width:100%;height:100%}.video-block-toolbar[_ngcontent-%COMP%]{z-index:6;position:absolute;top:0;left:0;background:0 0;color:#fff}video.video-element[_ngcontent-%COMP%]{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}.video-block-spinner[_ngcontent-%COMP%]{position:absolute}div.video-metadata-container.local.active.fixed[_nghost-%COMP%]     .contact-name, div.video-metadata-container.local.active.fixed   [_nghost-%COMP%]     .contact-name{display:none}"]],data:{}});function y(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,1,"mat-spinner",[["class","video-block-spinner mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,c.d,c.b)),t.pb(1,114688,null,0,r.d,[t.k,s.a,[2,i.d],[2,u.a],r.a],null,null)],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Cb(e,1)._noopAnimations,t.Cb(e,1).diameter,t.Cb(e,1).diameter)}))}function x(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,11,"div",[["class","active-video-block"]],null,null,null,null,null)),(n()(),t.qb(1,0,null,null,9,"mat-toolbar",[["class","video-block-toolbar mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,b.b,b.a)),t.pb(2,4243456,null,1,d.a,[t.k,s.a,i.d],null,null),t.Hb(603979776,1,{_toolbarRows:1}),(n()(),t.qb(4,0,null,0,1,"app-contact",[],null,null,null,p.b,p.a)),t.pb(5,114688,null,0,f.a,[t.h,v.a,m.a,t.z],{context:[0,"context"]},null),(n()(),t.qb(6,0,null,0,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),t.qb(7,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,h.b,h.a)),t.pb(8,9158656,null,0,g.b,[t.k,g.d,[8,null],[2,g.a],[2,t.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.qb(9,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,h.b,h.a)),t.pb(10,9158656,null,0,g.b,[t.k,g.d,[8,null],[2,g.a],[2,t.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.qb(11,0,null,null,0,"video",[["autoplay",""],["class","video-element"],["playsinline",""]],[[8,"src",4]],[[null,"loadeddata"],[null,"ended"]],(function(n,e,l){var t=!0,o=n.component;return"loadeddata"===e&&(t=!1!==o.onLoadedData()&&t),"ended"===e&&(t=!1!==o.onEnded()&&t),t}),null,null))],(function(n,e){var l=e.component;n(e,5,0,l.context.contact),n(e,8,0,l.video),n(e,10,0,l.audio)}),(function(n,e){var l=e.component;n(e,1,0,t.Cb(e,2)._toolbarRows.length>0,0===t.Cb(e,2)._toolbarRows.length),n(e,7,0,t.Cb(e,8).inline,"primary"!==t.Cb(e,8).color&&"accent"!==t.Cb(e,8).color&&"warn"!==t.Cb(e,8).color),n(e,9,0,t.Cb(e,10).inline,"primary"!==t.Cb(e,10).color&&"accent"!==t.Cb(e,10).color&&"warn"!==t.Cb(e,10).color),n(e,11,0,l.context.src)}))}function _(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,6,"div",[["class","video-block-container"]],null,null,null,null,null)),t.Gb(512,null,i.y,i.z,[t.q,t.r,t.k,t.C]),t.pb(2,278528,null,0,i.j,[i.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t.gb(16777216,null,null,1,null,y)),t.pb(4,16384,null,0,i.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,null,1,null,x)),t.pb(6,16384,null,0,i.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(n,e){var l=e.component;n(e,2,0,"video-block-container",l.context.className),n(e,4,0,!l.startBlock),n(e,6,0,l.context.className.active)}),null)}var w=l("cUpR"),O=l("iInd"),P=t.ob({encapsulation:0,styles:[["div.video-player-container[_ngcontent-%COMP%]{display:flex;justify-content:stretch;align-items:stretch;width:100%;height:100%}div.video-metadata-container.fixed[_ngcontent-%COMP%]{flex:initial}div.video-metadata-container[_ngcontent-%COMP%]{flex:1 1 0}@media (orientation:landscape){div.video-player-container[_ngcontent-%COMP%]{flex-direction:row}}@media (orientation:portrait){div.video-player-container[_ngcontent-%COMP%]{flex-direction:column}}"]],data:{}});function j(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,4,"div",[["class","video-metadata-container"]],null,null,null,null,null)),t.Gb(512,null,i.y,i.z,[t.q,t.r,t.k,t.C]),t.pb(2,278528,null,0,i.j,[i.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t.qb(3,0,null,null,1,"app-video-block",[],null,null,null,_,k)),t.pb(4,114688,null,0,A,[C,v.a],{context:[0,"context"]},null)],(function(n,e){n(e,2,0,"video-metadata-container",e.context.$implicit.className),n(e,4,0,e.context.$implicit)}),null)}function M(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,2,"div",[["class","video-player-container"]],null,null,null,null,null)),(n()(),t.gb(16777216,null,null,1,null,j)),t.pb(2,278528,null,0,i.k,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,2,0,e.component.activeVideoBlocks)}),null)}var q=t.mb("app-video-player",C,(function(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,1,"app-video-player",[],null,null,null,M,P)),t.pb(1,114688,null,0,C,[v.a,w.b,O.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),T=l("NcP4"),I=l("POq0"),N=l("QQfA"),z=l("IP0z"),F=l("JjoW"),L=l("Mz6y"),R=l("Xd0L"),V=l("gavF"),B=l("/Co4"),E=l("s7LF"),J=l("/q54"),S=function n(){_classCallCheck(this,n)},W=l("igqZ"),D=l("HsOI"),H=l("zMNK"),G=l("hOhj"),K=l("5GAg"),U=l("Fwaw"),Z=l("oapL"),Q=l("ZwOa"),X=l("8P0U"),Y=l("elxJ"),$=l("rWV4"),nn=l("KPQW"),en=l("mkRZ"),ln=l("pBi1"),tn=l("lT8R"),on=l("7of8"),an=l("VDRc"),cn=l("ura0"),rn=l("Nhcz"),sn=l("u9T3"),un=l("Gcy5");l.d(e,"VideoPlayerModuleNgFactory",(function(){return bn}));var bn=t.nb(o,[],(function(n){return t.zb([t.Ab(512,t.j,t.Z,[[8,[a.a,q,T.a]],[3,t.j],t.v]),t.Ab(4608,i.n,i.m,[t.s,[2,i.D]]),t.Ab(4608,I.c,I.c,[]),t.Ab(4608,N.c,N.c,[N.i,N.e,t.j,N.h,N.f,t.p,t.x,i.d,z.b,[2,i.h]]),t.Ab(5120,N.j,N.k,[N.c]),t.Ab(5120,F.a,F.b,[N.c]),t.Ab(5120,L.b,L.c,[N.c]),t.Ab(4608,w.e,R.c,[[2,R.g],[2,R.l]]),t.Ab(4608,R.b,R.b,[]),t.Ab(5120,V.a,V.d,[N.c]),t.Ab(5120,B.b,B.c,[N.c]),t.Ab(4608,E.e,E.e,[]),t.Ab(4608,E.w,E.w,[]),t.Ab(5120,t.b,(function(n,e){return[J.j(n,e)]}),[i.d,t.z]),t.Ab(1073742336,i.c,i.c,[]),t.Ab(1073742336,O.s,O.s,[[2,O.x],[2,O.o]]),t.Ab(1073742336,S,S,[]),t.Ab(1073742336,z.a,z.a,[]),t.Ab(1073742336,R.l,R.l,[[2,R.d],[2,w.f]]),t.Ab(1073742336,d.b,d.b,[]),t.Ab(1073742336,g.c,g.c,[]),t.Ab(1073742336,W.c,W.c,[]),t.Ab(1073742336,I.d,I.d,[]),t.Ab(1073742336,D.e,D.e,[]),t.Ab(1073742336,H.e,H.e,[]),t.Ab(1073742336,s.b,s.b,[]),t.Ab(1073742336,G.b,G.b,[]),t.Ab(1073742336,N.g,N.g,[]),t.Ab(1073742336,R.v,R.v,[]),t.Ab(1073742336,R.t,R.t,[]),t.Ab(1073742336,R.q,R.q,[]),t.Ab(1073742336,F.d,F.d,[]),t.Ab(1073742336,K.a,K.a,[]),t.Ab(1073742336,L.e,L.e,[]),t.Ab(1073742336,U.c,U.c,[]),t.Ab(1073742336,Z.c,Z.c,[]),t.Ab(1073742336,Q.b,Q.b,[]),t.Ab(1073742336,X.c,X.c,[]),t.Ab(1073742336,r.c,r.c,[]),t.Ab(1073742336,Y.d,Y.d,[]),t.Ab(1073742336,$.j,$.j,[]),t.Ab(1073742336,nn.b,nn.b,[]),t.Ab(1073742336,V.c,V.c,[]),t.Ab(1073742336,V.b,V.b,[]),t.Ab(1073742336,B.e,B.e,[]),t.Ab(1073742336,en.a,en.a,[]),t.Ab(1073742336,ln.d,ln.d,[]),t.Ab(1073742336,ln.c,ln.c,[]),t.Ab(1073742336,tn.a,tn.a,[]),t.Ab(1073742336,on.a,on.a,[]),t.Ab(1073742336,E.v,E.v,[]),t.Ab(1073742336,E.s,E.s,[]),t.Ab(1073742336,J.c,J.c,[]),t.Ab(1073742336,an.a,an.a,[]),t.Ab(1073742336,cn.c,cn.c,[]),t.Ab(1073742336,rn.a,rn.a,[]),t.Ab(1073742336,sn.a,sn.a,[[2,J.g],t.z]),t.Ab(1073742336,un.a,un.a,[]),t.Ab(1073742336,o,o,[]),t.Ab(1024,O.m,(function(){return[[{path:"",component:C}]]}),[])])}))}}]);
//# sourceMappingURL=19-es5.9704c19e06094dba4e92.js.map