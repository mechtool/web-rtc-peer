function _defineProperty(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{z6Qy:function(n,t,e){"use strict";e.r(t);var o=e("8Y7J"),l=function n(){_classCallCheck(this,n)},a=e("pMnS"),i=e("Mr+X"),c=e("Gi4r"),u=e("KPQW"),r=e("5GAg"),s=e("omvX"),b=e("bujt"),d=e("Fwaw"),p=e("SVse"),m=e("FbN9"),f=e("BzsH"),v=e("/HVE"),C=e("2/pp"),g=e("xQwi"),h=e("VYsW"),w=function(){function n(t){_classCallCheck(this,n),this.appContext=t,this.subscriptions=[],this.bottomVideo="video",this.bottomAudio="audio",this.topPeerVideoImg="video",this.topPeerAudioImg="audio",this.buttons=[["video-off","video"],["audio-off","audio"]]}return _createClass(n,[{key:"ngOnInit",value:function(){this.subscriptions.push(this.videoContext.dataChannel.data.subscribe((function(n){})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(n){return n.unsubscribe()}))}},{key:"clickIcon",value:function(n){switch(n){case 0:this.bottomVideo=this.buttons[0]["video"===this.bottomVideo?0:1];break;case 1:this.bottomAudio=this.buttons[1]["audio"===this.bottomAudio?0:1]}}},{key:"onLoadedData",value:function(){}},{key:"onEnded",value:function(){}}]),n}(),x=o.ob({encapsulation:0,styles:[[".video-container[_ngcontent-%COMP%]{position:relative;height:100%}.top-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;background:0 0;display:flex;align-items:center;justify-content:space-between;z-index:2}.top-local-block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.bottom-peer-block[_ngcontent-%COMP%]{width:160px;display:flex;justify-content:space-between;align-items:center}.bottom-peer-audio[_ngcontent-%COMP%], .bottom-peer-video[_ngcontent-%COMP%]{background-color:transparent!important}.main-video-container[_ngcontent-%COMP%]{height:100%}video.video-element[_ngcontent-%COMP%]{position:relative;z-index:0;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%;border:0 solid #cecece}.bottom-toolbar[_ngcontent-%COMP%]{background:0 0;position:absolute;bottom:0;display:flex;justify-content:center}"]],data:{}});function k(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","top-local-block"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate mat-badge"],["matBadgeSize","small"],["role","img"],["svgIcon","notifications"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"mat-badge-overlap",null],[2,"mat-badge-above",null],[2,"mat-badge-below",null],[2,"mat-badge-before",null],[2,"mat-badge-after",null],[2,"mat-badge-small",null],[2,"mat-badge-medium",null],[2,"mat-badge-large",null],[2,"mat-badge-hidden",null],[2,"mat-badge-disabled",null]],null,null,i.b,i.a)),o.pb(2,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null),o.pb(3,671744,null,0,u.a,[o.x,o.k,r.c,o.C,[2,s.a]],{color:[0,"color"],content:[1,"content"],size:[2,"size"]},null)],(function(n,t){var e=t.component;n(t,2,0,"notifications"),n(t,3,0,"accent",e.appContext.notifications.length>0?e.appContext.notifications.length+"":"","small")}),(function(n,t){n(t,1,1,[o.Cb(t,2).inline,"primary"!==o.Cb(t,2).color&&"accent"!==o.Cb(t,2).color&&"warn"!==o.Cb(t,2).color,o.Cb(t,3).overlap,o.Cb(t,3).isAbove(),!o.Cb(t,3).isAbove(),!o.Cb(t,3).isAfter(),o.Cb(t,3).isAfter(),"small"===o.Cb(t,3).size,"medium"===o.Cb(t,3).size,"large"===o.Cb(t,3).size,o.Cb(t,3).hidden||!o.Cb(t,3)._hasContent,o.Cb(t,3).disabled])}))}function A(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","top-peer-block"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"mat-icon",[["class","video-peer-img mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,i.b,i.a)),o.pb(2,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),o.qb(3,0,null,null,1,"mat-icon",[["class","microphone-peer-img mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,i.b,i.a)),o.pb(4,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null)],(function(n,t){var e=t.component;n(t,2,0,e.topPeerVideoImg),n(t,4,0,e.topPeerAudioImg)}),(function(n,t){n(t,1,0,o.Cb(t,2).inline,"primary"!==o.Cb(t,2).color&&"accent"!==o.Cb(t,2).color&&"warn"!==o.Cb(t,2).color),n(t,3,0,o.Cb(t,4).inline,"primary"!==o.Cb(t,4).color&&"accent"!==o.Cb(t,4).color&&"warn"!==o.Cb(t,4).color)}))}function y(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","bottom-local-block"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"button",[["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,b.b,b.a)),o.pb(2,180224,null,0,d.b,[o.k,r.f,[2,s.a]],null,null),(n()(),o.qb(3,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","phone-hangup"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,i.b,i.a)),o.pb(4,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null)],(function(n,t){n(t,4,0,"phone-hangup")}),(function(n,t){n(t,1,0,o.Cb(t,2).disabled||null,"NoopAnimations"===o.Cb(t,2)._animationMode),n(t,3,0,o.Cb(t,4).inline,"primary"!==o.Cb(t,4).color&&"accent"!==o.Cb(t,4).color&&"warn"!==o.Cb(t,4).color)}))}function I(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,12,"div",[["class","bottom-peer-block"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"button",[["class","bottom-peer-video"],["mat-mini-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,b.b,b.a)),o.pb(2,180224,null,0,d.b,[o.k,r.f,[2,s.a]],null,null),(n()(),o.qb(3,0,null,0,1,"mat-icon",[["class","video-img mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,t,e){var o=!0;return"click"===t&&(o=!1!==n.component.clickIcon(0)&&o),o}),i.b,i.a)),o.pb(4,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),o.qb(5,0,null,null,3,"button",[["mat-mini-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,b.b,b.a)),o.pb(6,180224,null,0,d.b,[o.k,r.f,[2,s.a]],null,null),(n()(),o.qb(7,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","phone-hangup"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,i.b,i.a)),o.pb(8,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),o.qb(9,0,null,null,3,"button",[["class","bottom-peer-audio"],["mat-mini-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,b.b,b.a)),o.pb(10,180224,null,0,d.b,[o.k,r.f,[2,s.a]],null,null),(n()(),o.qb(11,0,null,0,1,"mat-icon",[["class","microphone-img mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,t,e){var o=!0;return"click"===t&&(o=!1!==n.component.clickIcon(1)&&o),o}),i.b,i.a)),o.pb(12,9158656,null,0,c.b,[o.k,c.d,[8,null],[2,c.a],[2,o.l]],{svgIcon:[0,"svgIcon"]},null)],(function(n,t){var e=t.component;n(t,4,0,e.bottomVideo),n(t,8,0,"phone-hangup"),n(t,12,0,e.bottomAudio)}),(function(n,t){n(t,1,0,o.Cb(t,2).disabled||null,"NoopAnimations"===o.Cb(t,2)._animationMode),n(t,3,0,o.Cb(t,4).inline,"primary"!==o.Cb(t,4).color&&"accent"!==o.Cb(t,4).color&&"warn"!==o.Cb(t,4).color),n(t,5,0,o.Cb(t,6).disabled||null,"NoopAnimations"===o.Cb(t,6)._animationMode),n(t,7,0,o.Cb(t,8).inline,"primary"!==o.Cb(t,8).color&&"accent"!==o.Cb(t,8).color&&"warn"!==o.Cb(t,8).color),n(t,9,0,o.Cb(t,10).disabled||null,"NoopAnimations"===o.Cb(t,10)._animationMode),n(t,11,0,o.Cb(t,12).inline,"primary"!==o.Cb(t,12).color&&"accent"!==o.Cb(t,12).color&&"warn"!==o.Cb(t,12).color)}))}function _(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,26,"div",[["class","video-container"]],null,null,null,null,null)),o.Gb(512,null,p.y,p.z,[o.q,o.r,o.k,o.C]),o.pb(2,278528,null,0,p.j,[p.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(3,0,null,null,9,"mat-toolbar",[["class","top-toolbar mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,m.b,m.a)),o.pb(4,4243456,null,1,f.a,[o.k,v.a,p.d],null,null),o.Hb(603979776,1,{_toolbarRows:1}),(n()(),o.qb(6,0,null,0,2,"app-contact",[],null,null,null,C.b,C.a)),o.pb(7,114688,null,0,g.a,[o.h,h.a,o.z],{context:[0,"context"]},null),o.Db(131072,p.b,[o.h]),(n()(),o.gb(16777216,null,0,1,null,k)),o.pb(10,16384,null,0,p.l,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,A)),o.pb(12,16384,null,0,p.l,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(13,0,null,null,4,"div",[["class","main-video-container"]],null,null,null,null,null)),(n()(),o.qb(14,0,[["videoElement",1]],null,3,"video",[["autoplay",""],["class","video-element"],["playsinline",""]],[[8,"srcObject",0]],[[null,"loadeddata"],[null,"ended"]],(function(n,t,e){var o=!0,l=n.component;return"loadeddata"===t&&(o=!1!==l.onLoadedData()&&o),"ended"===t&&(o=!1!==l.onEnded()&&o),o}),null,null)),o.Gb(512,null,p.y,p.z,[o.q,o.r,o.k,o.C]),o.pb(16,278528,null,0,p.j,[p.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Db(131072,p.b,[o.h]),(n()(),o.qb(18,0,null,null,8,"mat-toolbar",[["class","bottom-toolbar mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,m.b,m.a)),o.Gb(512,null,p.y,p.z,[o.q,o.r,o.k,o.C]),o.pb(20,278528,null,0,p.j,[p.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.pb(21,4243456,null,1,f.a,[o.k,v.a,p.d],null,null),o.Hb(603979776,2,{_toolbarRows:1}),(n()(),o.gb(16777216,null,0,1,null,y)),o.pb(24,16384,null,0,p.l,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,I)),o.pb(26,16384,null,0,p.l,[o.N,o.K],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,2,0,"video-container",e.videoContext.className),n(t,7,0,o.Kb(t,7,0,o.Cb(t,8).transform(e.videoContext.contact))),n(t,10,0,e.videoContext.local),n(t,12,0,!e.videoContext.local),n(t,16,0,"video-element",e.videoContext.className),n(t,20,0,"bottom-toolbar",e.videoContext.className),n(t,24,0,!e.videoContext.local),n(t,26,0,e.videoContext.local)}),(function(n,t){var e=t.component;n(t,3,0,o.Cb(t,4)._toolbarRows.length>0,0===o.Cb(t,4)._toolbarRows.length),n(t,14,0,o.Kb(t,14,0,o.Cb(t,17).transform(e.videoContext.stream))),n(t,18,0,o.Cb(t,21)._toolbarRows.length>0,0===o.Cb(t,21)._toolbarRows.length)}))}var O=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),q=o.ob({encapsulation:0,styles:[[".web-rtc-context-container[_ngcontent-%COMP%]{height:100%}"]],data:{}});function P(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,1,"app-video-channel",[],null,null,null,_,x)),o.pb(1,245760,null,0,w,[h.a],{videoContext:[0,"videoContext"]},null)],(function(n,t){n(t,1,0,t.context.$implicit)}),null)}function z(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","web-rtc-context-container"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,P)),o.pb(2,278528,null,0,p.k,[o.N,o.K,o.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){n(t,2,0,t.component.context.videoCollection)}),null)}var N=e("mrSG"),R=e("iInd"),S=e("pLZG"),j=e("fvN4"),M=e("2Vo4"),L=e("XNiG"),J=function(){function n(t,e,o,l,a){_classCallCheck(this,n),this.router=t,this.webRtcService=e,this.appContext=o,this.database=l,this.statusColor=a,this.duplicateCall=JSON.parse(window.localStorage.getItem("duplicateCall")),this.optimizeCall=JSON.parse(window.localStorage.getItem("optimizeCall")),this.video=JSON.parse(window.localStorage.getItem("videoinput")),this.micro=JSON.parse(window.localStorage.getItem("audioinput")),this.audio=JSON.parse(window.localStorage.getItem("audiooutput")),this.constraints={audio:{deviceId:!(!this.audio||!this.audio.deviceId)&&this.audio.deviceId,volume:1},video:{deviceId:!(!this.video||!this.video.deviceId)&&this.video.deviceId}}}return _createClass(n,[{key:"ngOnInit",value:function(){this.router.events.pipe(Object(S.a)((function(n){return n instanceof R.g}))).subscribe((function(n){})),this.startConnections()}},{key:"handleDescriptor",value:function(n){}},{key:"startConnections",value:function(){return N.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e,o,l,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.appContext.webRtcContexts.getContext(this.appContext.contextId)){n.next=3;break}return n.abrupt("return");case 3:return e=t.uid===this.appContext.appUser.uid,n.next=6,navigator.mediaDevices.getUserMedia(this.constraints);case 6:t.localStream=n.sent,(o=[t.sender].concat(t.receivers.value))&&(l=o.findIndex((function(n){return n.uid===a.appContext.user.value.uid})),o.forEach((function(n,o){var i,c,u=a.appContext.appUser.uid===n.uid,r=t.webRtcConnections[n.uid]=new j.g({uid:n.uid});r.webRtcContext=t,r.uid=n.uid,r.videoContext=new j.f({webRtcUid:t.uid,contact:new M.a(u?a.appContext.appUser:n),className:u?(i={},_defineProperty(i,n.uid+" local video-context",!0),_defineProperty(i,"active",!1),_defineProperty(i,"fixed",!1),_defineProperty(i,"pulse",e),i):(c={},_defineProperty(c,n.uid+" remote video-context",!0),_defineProperty(c,"active",!1),_defineProperty(c,"pulse",!1),c),stream:new M.a(u?t.localStream:void 0),local:u,dataChannel:{data:new L.a,send:void 0}}),t.videoCollection.push(r.videoContext),u||(r.pcConnection=new SimplePeer({initiator:e||n.uid===t.uid||l<o,channelName:n.uid,config:a.appContext.stunTurnConfig[e?window.localStorage.getItem("stunTurn"):t.desc.stun],stream:t.localStream}),r.videoContext.dataChannel.send=r.pcConnection.send,r.pcConnection.on("signal",(function(o){return N.__awaiter(a,void 0,void 0,regeneratorRuntime.mark((function l(){var a,i,c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!o.type){l.next=9;break}if("offer"===o.type?r.offer=new j.d({type:e?"offer":"implicit-offer",action:"offered",contact:n,uid:this.appContext.appUser.uid,webRtcUid:t.uid,receivers:e?t.receivers.value:[n],sender:this.appContext.appUser,stun:e?window.localStorage.getItem("stunTurn"):t.desc.stun,desc:JSON.stringify(o),optimize:e?JSON.parse(window.localStorage.getItem("optimizeCall")):t.desc.optimize}):"answer"===o.type&&(r.answer=new j.a({type:"answer",active:!0,contact:n,uid:t.desc.uid,webRtcUid:t.uid,receivers:[t.sender],sender:this.appContext.appUser,desc:JSON.stringify(o),optimize:t.desc.optimize})),a=r.offer||r.answer,l.t0=a.optimize,l.t0){l.next=7;break}return l.next=7,this.database.sendDescriptor(a);case 7:l.next=10;break;case 9:o.candidate&&(i=r.offer||r.answer,c=new j.b({webRtcUid:i.webRtcUid,contact:n,date:Date.now(),sender:this.appContext.user.value,descId:i.messId,type:"candidates",desc:JSON.stringify(o.candidate),active:!0,optimize:i.optimize}),i.optimize?i.candidates.push(c):this.database.sendDescriptor(c).catch(this.onError));case 10:case"end":return l.stop()}}),l,this)})))})),r.pcConnection._pc.addEventListener("icegatheringstatechange",(function(n){if("complete"===n.target.iceGatheringState){var t=r.offer||r.answer;t.optimize&&(t.candidates.length?a.database.sendDescriptor(t).then((function(){console.log("\u0421\u0431\u043e\u0440\u043a\u0430 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430. \u041a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b.")})).catch(a.onError):(a.onError("\u0421\u0431\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u043e\u0432 \u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0438 icegatheringstatechange."),a.setAnnouncement({type:"incompatibilityFailure",desc:{text:"\u0421\u0431\u043e\u0439 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438."}})))}})),r.pcConnection._pc.addEventListener("connectionstatechange",(function(n){var t=r.videoContext.contact.value;t.statusColor=a.statusColor.statusColors.webrtc.perConnectionStates[n.type],r.videoContext.contact.next(t)})),r.pcConnection.on("connect",(function(){r.pcConnection.send({type:"settings",video:!0,audio:!0})})),r.pcConnection.on("data",(function(n){r.videoContext.dataChannel.data.next(n)})),r.pcConnection.on("stream",(function(n){r.videoContext.stream.next(n)})),r.pcConnection.on("close",(function(){})),r.pcConnection.on("error",(function(n){})),e||0!==o||a.setDescriptor(r.pcConnection,t.desc))}))),e||this.setImplicitListeners(),this.appContext.appChangeRef.markForCheck();case 10:case"end":return n.stop()}}),n,this)})))}},{key:"setDescriptor",value:function(n,t){var e=this;n.signal(JSON.parse(t.desc)),"candidates"!==t.type&&N.__awaiter(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkCandidates(t,n);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"requestCandidates",value:function(n,t){var e=this;this.database.database.ref("/web-rtc/candidates/".concat(this.appContext.user.value.uid)).orderByChild("descId").equalTo(n.messId).once("value").then((function(n){var o=n.val();o&&t.bind(e,o)()})).catch(this.onError)}},{key:"checkCandidates",value:function(n,t){var e=this;return new Promise((function(t,l){n.optimize?o.bind(e,n.candidates,t,l)():e.requestCandidates(n,(function(n){n&&o.bind(e,Object.values(n),t,l)()}))}));function o(n,e,o){var l=this;n.forEach((function(n){return N.__awaiter(l,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.signal(JSON.parse(n.desc)),this.database.setDescriptorOptions({descriptor:n,data:{active:!1}}).catch((function(n){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043d\u044f\u0442\u0438\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u0430 \u0432 \u0431\u0430\u0437\u0435.")}));case 1:case"end":return e.stop()}}),e,this)})))})).catch((function(n){return o(n)})),e()}}},{key:"setImplicitListeners",value:function(){}},{key:"setAnnouncement",value:function(n){this.appContext.announcements.next([n].concat(this.appContext.announcements.value)),this.appContext.appChangeRef.markForCheck()}},{key:"onError",value:function(n){console.log(n)}}]),n}(),D=e("hoN+"),E=e("ZJFI"),U=e("tX6c"),F=o.ob({encapsulation:0,styles:[[".web-rtc-component-container[_ngcontent-%COMP%]{height:100%}"]],data:{}});function V(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,1,"app-web-rtc-context",[],null,null,null,z,q)),o.pb(1,114688,null,0,O,[],{context:[0,"context"]},null)],(function(n,t){n(t,1,0,t.context.$implicit)}),null)}function K(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","web-rtc-component-container"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,2,null,V)),o.pb(2,278528,null,0,p.k,[o.N,o.K,o.q],{ngForOf:[0,"ngForOf"]},null),o.Db(131072,p.b,[o.h])],(function(n,t){var e=t.component;n(t,2,0,o.Kb(t,2,0,o.Cb(t,3).transform(e.appContext.webRtcContexts.contexts)))}),null)}var G=o.mb("app-web-rtc",J,(function(n){return o.Lb(0,[(n()(),o.qb(0,0,null,null,1,"app-web-rtc",[],null,null,null,K,F)),o.pb(1,114688,null,0,J,[R.o,D.a,h.a,E.a,U.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),T=e("NcP4"),W=e("POq0"),Z=e("QQfA"),H=e("IP0z"),Q=e("JjoW"),X=e("Mz6y"),B=e("cUpR"),Y=e("Xd0L"),$=e("gavF"),nn=e("/Co4"),tn=e("s7LF"),en=e("/q54"),on=function n(){_classCallCheck(this,n)},ln=e("igqZ"),an=e("HsOI"),cn=e("zMNK"),un=e("hOhj"),rn=e("oapL"),sn=e("ZwOa"),bn=e("8P0U"),dn=e("W5yJ"),pn=e("elxJ"),mn=e("rWV4"),fn=e("mkRZ"),vn=e("pBi1"),Cn=e("lT8R"),gn=e("7of8"),hn=e("VDRc"),wn=e("ura0"),xn=e("Nhcz"),kn=e("u9T3"),An=e("Gcy5");e.d(t,"WebRtcModuleNgFactory",(function(){return yn}));var yn=o.nb(l,[],(function(n){return o.zb([o.Ab(512,o.j,o.Z,[[8,[a.a,G,T.a]],[3,o.j],o.v]),o.Ab(4608,p.n,p.m,[o.s,[2,p.D]]),o.Ab(4608,W.c,W.c,[]),o.Ab(4608,Z.c,Z.c,[Z.i,Z.e,o.j,Z.h,Z.f,o.p,o.x,p.d,H.b,[2,p.h]]),o.Ab(5120,Z.j,Z.k,[Z.c]),o.Ab(5120,Q.a,Q.b,[Z.c]),o.Ab(5120,X.b,X.c,[Z.c]),o.Ab(4608,B.e,Y.c,[[2,Y.g],[2,Y.l]]),o.Ab(4608,Y.b,Y.b,[]),o.Ab(5120,$.a,$.d,[Z.c]),o.Ab(5120,nn.b,nn.c,[Z.c]),o.Ab(4608,tn.e,tn.e,[]),o.Ab(4608,tn.w,tn.w,[]),o.Ab(5120,o.b,(function(n,t){return[en.j(n,t)]}),[p.d,o.z]),o.Ab(1073742336,p.c,p.c,[]),o.Ab(1073742336,R.s,R.s,[[2,R.x],[2,R.o]]),o.Ab(1073742336,on,on,[]),o.Ab(1073742336,H.a,H.a,[]),o.Ab(1073742336,Y.l,Y.l,[[2,Y.d],[2,B.f]]),o.Ab(1073742336,f.b,f.b,[]),o.Ab(1073742336,c.c,c.c,[]),o.Ab(1073742336,ln.c,ln.c,[]),o.Ab(1073742336,W.d,W.d,[]),o.Ab(1073742336,an.e,an.e,[]),o.Ab(1073742336,cn.e,cn.e,[]),o.Ab(1073742336,v.b,v.b,[]),o.Ab(1073742336,un.b,un.b,[]),o.Ab(1073742336,Z.g,Z.g,[]),o.Ab(1073742336,Y.v,Y.v,[]),o.Ab(1073742336,Y.t,Y.t,[]),o.Ab(1073742336,Y.q,Y.q,[]),o.Ab(1073742336,Q.d,Q.d,[]),o.Ab(1073742336,r.a,r.a,[]),o.Ab(1073742336,X.e,X.e,[]),o.Ab(1073742336,d.c,d.c,[]),o.Ab(1073742336,rn.c,rn.c,[]),o.Ab(1073742336,sn.b,sn.b,[]),o.Ab(1073742336,bn.c,bn.c,[]),o.Ab(1073742336,dn.c,dn.c,[]),o.Ab(1073742336,pn.d,pn.d,[]),o.Ab(1073742336,mn.j,mn.j,[]),o.Ab(1073742336,u.b,u.b,[]),o.Ab(1073742336,$.c,$.c,[]),o.Ab(1073742336,$.b,$.b,[]),o.Ab(1073742336,nn.e,nn.e,[]),o.Ab(1073742336,fn.a,fn.a,[]),o.Ab(1073742336,vn.d,vn.d,[]),o.Ab(1073742336,vn.c,vn.c,[]),o.Ab(1073742336,Cn.a,Cn.a,[]),o.Ab(1073742336,gn.a,gn.a,[]),o.Ab(1073742336,tn.v,tn.v,[]),o.Ab(1073742336,tn.s,tn.s,[]),o.Ab(1073742336,en.c,en.c,[]),o.Ab(1073742336,hn.a,hn.a,[]),o.Ab(1073742336,wn.c,wn.c,[]),o.Ab(1073742336,xn.a,xn.a,[]),o.Ab(1073742336,kn.a,kn.a,[[2,en.g],o.z]),o.Ab(1073742336,An.a,An.a,[]),o.Ab(1073742336,l,l,[]),o.Ab(1024,R.m,(function(){return[[{path:"",component:J}]]}),[])])}))}}]);
//# sourceMappingURL=18-es5.91a77c48a33e828415a1.js.map