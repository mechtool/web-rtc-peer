function _defineProperties(n,l){for(var e=0;e<l.length;e++){var t=l[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,l,e){return l&&_defineProperties(n.prototype,l),e&&_defineProperties(n,e),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{B3DS:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J"),o=function n(){_classCallCheck(this,n)},a=e("pMnS"),c=e("SVse"),u=e("Mr+X"),s=e("Gi4r"),i=e("mrSG"),b=function(){function n(l,e){_classCallCheck(this,n),this.appContext=l,this.database=e,this.buttons=[]}return _createClass(n,[{key:"onErrorContactImg",value:function(n){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.database.onErrorContactImg(n,this.context);case 2:return l.abrupt("return",!0);case 3:case"end":return l.stop()}}),l,this)})))}},{key:"ngOnInit",value:function(){this.contactName=this.context.sender.name||this.context.sender.displayName||this.context.sender.phoneNumber||this.context.sender.email,this.svgIcon=this.context.sender.uid===this.appContext.appUser.uid?"outgoing":"accepted"===this.context.acton?"accepted":"missing"}}]),n}(),r=e("VYsW"),d=e("ZJFI"),p=t.ob({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.message-container[_ngcontent-%COMP%]{height:42px;display:flex;justify-content:flex-start;align-items:center;cursor:pointer;margin:4px 0}img[_ngcontent-%COMP%]{width:42px;height:42px}.main-text[_ngcontent-%COMP%]{padding-left:12px}.status-text[_ngcontent-%COMP%]{padding-right:12px}div.date[_ngcontent-%COMP%]{font-size:12px!important}mat-icon[_ngcontent-%COMP%]{margin-right:16px;top:2px}"]],data:{}});function g(n){return t.Lb(0,[t.Db(0,c.e,[t.s]),(n()(),t.qb(1,0,null,null,10,"div",[["class","message-container"]],null,null,null,null,null)),(n()(),t.qb(2,0,null,null,0,"img",[["alt","\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"],["class","contact-img"]],[[8,"src",4],[4,"backgroundColor",null]],[[null,"error"]],(function(n,l,e){var t=!0;return"error"===l&&(t=!1!==n.component.onErrorContactImg(e)&&t),t}),null,null)),(n()(),t.qb(3,0,null,null,5,"div",[["class","main-text"]],null,null,null,null,null)),(n()(),t.qb(4,0,null,null,2,"div",[["class","date"]],null,null,null,null,null)),(n()(),t.Jb(5,null,["",""])),t.Fb(6,4),(n()(),t.qb(7,0,null,null,1,"div",[["class","contact-name"]],null,null,null,null,null)),(n()(),t.Jb(8,null,["",""])),(n()(),t.qb(9,0,null,null,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),t.qb(10,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[4,"color",null],[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.pb(11,9158656,null,0,s.b,[t.k,s.d,[8,null],[2,s.a],[2,t.l]],{svgIcon:[0,"svgIcon"]},null)],(function(n,l){n(l,11,0,l.component.svgIcon)}),(function(n,l){var e=l.component;n(l,2,0,e.context.sender.photoURL,e.context.sender.imgColor);var o=t.Kb(l,5,0,n(l,6,0,t.Cb(l,0),e.context.date,"short","+03","ru"));n(l,5,0,o),n(l,8,0,e.contactName),n(l,10,0,"outgoing"===e.svgIcon?"green":"accepted"===e.svgIcon?"blue":"red",t.Cb(l,11).inline,"primary"!==t.Cb(l,11).color&&"accent"!==t.Cb(l,11).color&&"warn"!==t.Cb(l,11).color)}))}var m=e("FbN9"),h=e("BzsH"),f=e("/HVE"),C=e("bujt"),x=e("Mz6y"),v=e("QQfA"),k=e("hOhj"),A=e("5GAg"),_=e("IP0z"),y=e("cUpR"),w=e("Fwaw"),M=e("omvX"),q=e("Rlre"),O=e("rWV4"),N=e("2Vo4"),I=function(){function n(l,e,t){_classCallCheck(this,n),this.colorThemeService=l,this.appContext=e,this.platformId=t,this.buttons=[],this.activeMessages=new N.a([])}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;Object(c.v)(this.platformId)&&(this.buttons=[{icon:"video",disabled:!1},{icon:"replay",disabled:!1},{icon:"base_clear",disabled:!1}],this.activeMessages.subscribe((function(l){n.buttons.forEach((function(n,e){n.disabled=e<2?1!==l.length:!l.length}))})))}},{key:"onClickMessage",value:function(n){var l,e=this.activeMessages.value,t=n.event.currentTarget;t.classList.toggle("active"),t.style.backgroundColor=(l=t.classList.contains("active"))?this.colorThemeService.getThemeColor("highlight"):this.getNeededColor(n.index),l?e.push(n.message):e=e.filter((function(l){return l.messId!==n.message.messId})),this.activeMessages.next(e)}},{key:"focusChange",value:function(){var n=this;document.querySelectorAll("app-message").forEach((function(l,e){l.classList.remove("active"),l.style.backgroundColor=n.getNeededColor(e)})),this.activeMessages.next([])}},{key:"getNeededColor",value:function(n){return this.colorThemeService.getThemeColor(0==n%2?"even":"odd")}},{key:"contactCall",value:function(){}},{key:"openMessage",value:function(){}},{key:"onDeleteMessage",value:function(){}}]),n}(),P=e("V+Fh"),L=t.ob({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1 1 0}.messages-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;height:100%}.messages-container-tabs[_ngcontent-%COMP%]{flex:1 1 0}.messages-header[_ngcontent-%COMP%]{font-size:18px!important}.accepted[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%], .skipped[_ngcontent-%COMP%]{margin:12px}"]],data:{}});function T(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,1,"app-message",[],[[4,"backgroundColor",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onClickMessage({event:e,index:n.context.index,message:n.context.$implicit})&&t),t}),g,p)),t.pb(1,114688,null,0,b,[r.a,d.a],{context:[0,"context"]},null)],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,0,0,l.component.getNeededColor(l.context.index))}))}function j(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,1,"app-message",[],[[4,"backgroundColor",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onClickMessage({event:e,index:n.context.index,message:n.context.$implicit})&&t),t}),g,p)),t.pb(1,114688,null,0,b,[r.a,d.a],{context:[0,"context"]},null)],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,0,0,l.component.getNeededColor(l.context.index))}))}function F(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,1,"app-message",[],[[4,"backgroundColor",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onClickMessage({event:e,index:n.context.index,message:n.context.$implicit})&&t),t}),g,p)),t.pb(1,114688,null,0,b,[r.a,d.a],{context:[0,"context"]},null)],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,0,0,l.component.getNeededColor(l.context.index))}))}function H(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,48,"div",[["class","messages-container"]],null,null,null,null,null)),(n()(),t.qb(1,0,null,null,20,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,m.b,m.a)),t.pb(2,4243456,null,1,h.a,[t.k,f.a,c.d],{color:[0,"color"]},null),t.Hb(603979776,1,{_toolbarRows:1}),(n()(),t.qb(4,0,null,0,1,"span",[["class","messages-header"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"])),(n()(),t.qb(6,0,null,0,0,"span",[["class","example-spacer"]],null,null,null,null,null)),(n()(),t.qb(7,16777216,null,0,4,"button",[["class","toolbar-button open-trigger"],["mat-icon-button",""],["matTooltip","\u0412\u044b\u0437\u0432\u0430\u0442\u044c"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,e){var o=!0,a=n.component;return"longpress"===l&&(o=!1!==t.Cb(n,8).show()&&o),"keydown"===l&&(o=!1!==t.Cb(n,8)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t.Cb(n,8)._handleTouchend()&&o),"click"===l&&(o=!1!==a.contactCall()&&o),o}),C.b,C.a)),t.pb(8,212992,null,0,x.d,[v.c,t.k,k.a,t.N,t.x,f.a,A.c,A.f,x.b,[2,_.b],[2,x.a],[2,y.f]],{message:[0,"message"]},null),t.pb(9,180224,null,0,w.b,[t.k,A.f,[2,M.a]],{disabled:[0,"disabled"]},null),(n()(),t.qb(10,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.pb(11,9158656,null,0,s.b,[t.k,s.d,[8,null],[2,s.a],[2,t.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.qb(12,16777216,null,0,4,"button",[["class","toolbar-button open-trigger"],["mat-icon-button",""],["matTooltip","\u041e\u0442\u043a\u0440\u044b\u0442\u044c"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,e){var o=!0,a=n.component;return"longpress"===l&&(o=!1!==t.Cb(n,13).show()&&o),"keydown"===l&&(o=!1!==t.Cb(n,13)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t.Cb(n,13)._handleTouchend()&&o),"click"===l&&(o=!1!==a.openMessage()&&o),o}),C.b,C.a)),t.pb(13,212992,null,0,x.d,[v.c,t.k,k.a,t.N,t.x,f.a,A.c,A.f,x.b,[2,_.b],[2,x.a],[2,y.f]],{message:[0,"message"]},null),t.pb(14,180224,null,0,w.b,[t.k,A.f,[2,M.a]],{disabled:[0,"disabled"]},null),(n()(),t.qb(15,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.pb(16,9158656,null,0,s.b,[t.k,s.d,[8,null],[2,s.a],[2,t.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.qb(17,16777216,null,0,4,"button",[["class","toolbar-button delete-contact"],["mat-icon-button",""],["matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,e){var o=!0,a=n.component;return"longpress"===l&&(o=!1!==t.Cb(n,18).show()&&o),"keydown"===l&&(o=!1!==t.Cb(n,18)._handleKeydown(e)&&o),"touchend"===l&&(o=!1!==t.Cb(n,18)._handleTouchend()&&o),"click"===l&&(o=!1!==a.onDeleteMessage()&&o),o}),C.b,C.a)),t.pb(18,212992,null,0,x.d,[v.c,t.k,k.a,t.N,t.x,f.a,A.c,A.f,x.b,[2,_.b],[2,x.a],[2,y.f]],{message:[0,"message"]},null),t.pb(19,180224,null,0,w.b,[t.k,A.f,[2,M.a]],{disabled:[0,"disabled"]},null),(n()(),t.qb(20,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.pb(21,9158656,null,0,s.b,[t.k,s.d,[8,null],[2,s.a],[2,t.l]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.qb(22,0,null,null,26,"mat-tab-group",[["class","messages-container-tabs mat-tab-group"],["mat-stretch-tabs",""]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],[[null,"focusChange"]],(function(n,l,e){var t=!0;return"focusChange"===l&&(t=!1!==n.component.focusChange()&&t),t}),q.c,q.b)),t.pb(23,3325952,null,1,O.f,[t.k,t.h,[2,O.a],[2,M.a]],null,{focusChange:"focusChange"}),t.Hb(603979776,2,{_tabs:1}),(n()(),t.qb(25,16777216,null,null,7,"mat-tab",[["label","\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435"]],null,null,null,q.d,q.a)),t.pb(26,770048,[[2,4]],2,O.c,[t.N],{textLabel:[0,"textLabel"]},null),t.Hb(603979776,3,{templateLabel:0}),t.Hb(335544320,4,{_explicitContent:0}),(n()(),t.qb(29,0,null,0,3,"div",[["class","outer"]],null,null,null,null,null)),(n()(),t.gb(16777216,null,null,2,null,T)),t.pb(31,278528,null,0,c.k,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null),t.Db(131072,c.b,[t.h]),(n()(),t.qb(33,16777216,null,null,7,"mat-tab",[["label","\u041f\u0440\u0438\u043d\u044f\u0442\u044b\u0435"]],null,null,null,q.d,q.a)),t.pb(34,770048,[[2,4]],2,O.c,[t.N],{textLabel:[0,"textLabel"]},null),t.Hb(603979776,5,{templateLabel:0}),t.Hb(335544320,6,{_explicitContent:0}),(n()(),t.qb(37,0,null,0,3,"div",[["class","accepted"]],null,null,null,null,null)),(n()(),t.gb(16777216,null,null,2,null,j)),t.pb(39,278528,null,0,c.k,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null),t.Db(131072,c.b,[t.h]),(n()(),t.qb(41,16777216,null,null,7,"mat-tab",[["label","\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435"]],null,null,null,q.d,q.a)),t.pb(42,770048,[[2,4]],2,O.c,[t.N],{textLabel:[0,"textLabel"]},null),t.Hb(603979776,7,{templateLabel:0}),t.Hb(335544320,8,{_explicitContent:0}),(n()(),t.qb(45,0,null,0,3,"div",[["class","skipped"]],null,null,null,null,null)),(n()(),t.gb(16777216,null,null,2,null,F)),t.pb(47,278528,null,0,c.k,[t.N,t.K,t.q],{ngForOf:[0,"ngForOf"]},null),t.Db(131072,c.b,[t.h])],(function(n,l){var e=l.component;n(l,2,0,"primary"),n(l,8,0,"\u0412\u044b\u0437\u0432\u0430\u0442\u044c"),n(l,9,0,e.buttons[0].disabled),n(l,11,0,e.buttons[0].icon),n(l,13,0,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),n(l,14,0,e.buttons[1].disabled),n(l,16,0,e.buttons[1].icon),n(l,18,0,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),n(l,19,0,e.buttons[2].disabled),n(l,21,0,e.buttons[2].icon),n(l,26,0,"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435"),n(l,31,0,t.Kb(l,31,0,t.Cb(l,32).transform(e.appContext.outboxMessages))),n(l,34,0,"\u041f\u0440\u0438\u043d\u044f\u0442\u044b\u0435"),n(l,39,0,t.Kb(l,39,0,t.Cb(l,40).transform(e.appContext.innerMessages))),n(l,42,0,"\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435"),n(l,47,0,t.Kb(l,47,0,t.Cb(l,48).transform(e.appContext.innerMessages)))}),(function(n,l){n(l,1,0,t.Cb(l,2)._toolbarRows.length>0,0===t.Cb(l,2)._toolbarRows.length),n(l,7,0,t.Cb(l,9).disabled||null,"NoopAnimations"===t.Cb(l,9)._animationMode),n(l,10,0,t.Cb(l,11).inline,"primary"!==t.Cb(l,11).color&&"accent"!==t.Cb(l,11).color&&"warn"!==t.Cb(l,11).color),n(l,12,0,t.Cb(l,14).disabled||null,"NoopAnimations"===t.Cb(l,14)._animationMode),n(l,15,0,t.Cb(l,16).inline,"primary"!==t.Cb(l,16).color&&"accent"!==t.Cb(l,16).color&&"warn"!==t.Cb(l,16).color),n(l,17,0,t.Cb(l,19).disabled||null,"NoopAnimations"===t.Cb(l,19)._animationMode),n(l,20,0,t.Cb(l,21).inline,"primary"!==t.Cb(l,21).color&&"accent"!==t.Cb(l,21).color&&"warn"!==t.Cb(l,21).color),n(l,22,0,t.Cb(l,23).dynamicHeight,"below"===t.Cb(l,23).headerPosition)}))}var K=t.mb("app-messages",I,(function(n){return t.Lb(0,[(n()(),t.qb(0,0,null,null,1,"app-messages",[],null,null,null,H,L)),t.pb(1,114688,null,0,I,[P.a,r.a,t.z],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),z=e("NcP4"),R=e("POq0"),J=e("JjoW"),D=e("Xd0L"),S=e("gavF"),E=e("/Co4"),V=e("s7LF"),$=e("/q54"),W=e("iInd"),Z=function n(){_classCallCheck(this,n)},G=e("igqZ"),U=e("HsOI"),B=e("zMNK"),Q=e("oapL"),X=e("ZwOa"),Y=e("8P0U"),nn=e("W5yJ"),ln=e("elxJ"),en=e("KPQW"),tn=e("mkRZ"),on=e("pBi1"),an=e("lT8R"),cn=e("7of8"),un=e("VDRc"),sn=e("ura0"),bn=e("Nhcz"),rn=e("u9T3"),dn=e("Gcy5");e.d(l,"MessagesModuleNgFactory",(function(){return pn}));var pn=t.nb(o,[],(function(n){return t.zb([t.Ab(512,t.j,t.Z,[[8,[a.a,K,z.a]],[3,t.j],t.v]),t.Ab(4608,c.n,c.m,[t.s,[2,c.D]]),t.Ab(4608,R.c,R.c,[]),t.Ab(4608,v.c,v.c,[v.i,v.e,t.j,v.h,v.f,t.p,t.x,c.d,_.b,[2,c.h]]),t.Ab(5120,v.j,v.k,[v.c]),t.Ab(5120,J.a,J.b,[v.c]),t.Ab(5120,x.b,x.c,[v.c]),t.Ab(4608,y.e,D.c,[[2,D.g],[2,D.l]]),t.Ab(4608,D.b,D.b,[]),t.Ab(5120,S.a,S.d,[v.c]),t.Ab(5120,E.b,E.c,[v.c]),t.Ab(4608,V.e,V.e,[]),t.Ab(4608,V.w,V.w,[]),t.Ab(5120,t.b,(function(n,l){return[$.j(n,l)]}),[c.d,t.z]),t.Ab(1073742336,c.c,c.c,[]),t.Ab(1073742336,W.s,W.s,[[2,W.x],[2,W.o]]),t.Ab(1073742336,Z,Z,[]),t.Ab(1073742336,_.a,_.a,[]),t.Ab(1073742336,D.l,D.l,[[2,D.d],[2,y.f]]),t.Ab(1073742336,h.b,h.b,[]),t.Ab(1073742336,s.c,s.c,[]),t.Ab(1073742336,G.c,G.c,[]),t.Ab(1073742336,R.d,R.d,[]),t.Ab(1073742336,U.e,U.e,[]),t.Ab(1073742336,B.e,B.e,[]),t.Ab(1073742336,f.b,f.b,[]),t.Ab(1073742336,k.b,k.b,[]),t.Ab(1073742336,v.g,v.g,[]),t.Ab(1073742336,D.v,D.v,[]),t.Ab(1073742336,D.t,D.t,[]),t.Ab(1073742336,D.q,D.q,[]),t.Ab(1073742336,J.d,J.d,[]),t.Ab(1073742336,A.a,A.a,[]),t.Ab(1073742336,x.e,x.e,[]),t.Ab(1073742336,w.c,w.c,[]),t.Ab(1073742336,Q.c,Q.c,[]),t.Ab(1073742336,X.b,X.b,[]),t.Ab(1073742336,Y.c,Y.c,[]),t.Ab(1073742336,nn.c,nn.c,[]),t.Ab(1073742336,ln.d,ln.d,[]),t.Ab(1073742336,O.j,O.j,[]),t.Ab(1073742336,en.b,en.b,[]),t.Ab(1073742336,S.c,S.c,[]),t.Ab(1073742336,S.b,S.b,[]),t.Ab(1073742336,E.e,E.e,[]),t.Ab(1073742336,tn.a,tn.a,[]),t.Ab(1073742336,on.d,on.d,[]),t.Ab(1073742336,on.c,on.c,[]),t.Ab(1073742336,an.a,an.a,[]),t.Ab(1073742336,cn.a,cn.a,[]),t.Ab(1073742336,V.v,V.v,[]),t.Ab(1073742336,V.s,V.s,[]),t.Ab(1073742336,$.c,$.c,[]),t.Ab(1073742336,un.a,un.a,[]),t.Ab(1073742336,sn.c,sn.c,[]),t.Ab(1073742336,bn.a,bn.a,[]),t.Ab(1073742336,rn.a,rn.a,[[2,$.g],t.z]),t.Ab(1073742336,dn.a,dn.a,[]),t.Ab(1073742336,o,o,[]),t.Ab(1024,W.m,(function(){return[[{path:"",component:I}]]}),[])])}))}}]);
//# sourceMappingURL=16-es5.5ae2cfdaadc8bc32a9bb.js.map